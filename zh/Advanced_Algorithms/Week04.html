<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.74" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://bougiemoonintaurus/zh/Advanced_Algorithms/Week04.html"><meta property="og:site_name" content="奶酪奶酪"><meta property="og:title" content="高级算法——第4周略讲——二叉树"><meta property="og:description" content="1. 二叉树基本信息 二叉树（Binary Tree）是一种非线性数据结构，代表“祖先”和“后代”的派生关系，体现了“一分为二”的分治逻辑。与链表类似，二叉树的基本单元是节点，每个节点包含值，左子结点引用和右子节点引用。 每个节点都有两个引用（指针）。分别指向左子结点（left-child node）和右子节点（right-child node），该节..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-11-25T09:15:11.000Z"><meta property="article:author" content="XiaoXianYue"><meta property="article:tag" content="大三上"><meta property="article:tag" content="高级算法课件"><meta property="article:published_time" content="2024-09-26T21:18:12.000Z"><meta property="article:modified_time" content="2024-11-25T09:15:11.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"高级算法——第4周略讲——二叉树","image":[""],"datePublished":"2024-09-26T21:18:12.000Z","dateModified":"2024-11-25T09:15:11.000Z","author":[{"@type":"Person","name":"XiaoXianYue"}]}</script><title>高级算法——第4周略讲——二叉树 | 奶酪奶酪</title><meta name="description" content="1. 二叉树基本信息 二叉树（Binary Tree）是一种非线性数据结构，代表“祖先”和“后代”的派生关系，体现了“一分为二”的分治逻辑。与链表类似，二叉树的基本单元是节点，每个节点包含值，左子结点引用和右子节点引用。 每个节点都有两个引用（指针）。分别指向左子结点（left-child node）和右子节点（right-child node），该节...">
    <link rel="preload" href="/assets/style-D3YEg4E9.css" as="style"><link rel="stylesheet" href="/assets/style-D3YEg4E9.css">
    <link rel="modulepreload" href="/assets/app-84lBMjzT.js"><link rel="modulepreload" href="/assets/Week04.html-D5mxZYpn.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-QUQgzYbo.js" as="script"><link rel="prefetch" href="/assets/bolg.html-BDvoOvFv.js" as="script"><link rel="prefetch" href="/assets/intro.html-3QE0wG9e.js" as="script"><link rel="prefetch" href="/assets/MQTT.html--bPQC7PM.js" as="script"><link rel="prefetch" href="/assets/index.html-CSaaY76_.js" as="script"><link rel="prefetch" href="/assets/intro.html-BQI3pyL1.js" as="script"><link rel="prefetch" href="/assets/ch03.html-ykfqB9Ex.js" as="script"><link rel="prefetch" href="/assets/ch07.html-BRpEBR0T.js" as="script"><link rel="prefetch" href="/assets/notes.html-D1RXx2nF.js" as="script"><link rel="prefetch" href="/assets/question.html-BNB-SJoJ.js" as="script"><link rel="prefetch" href="/assets/s_ass.html-CbGOoTcu.js" as="script"><link rel="prefetch" href="/assets/s_ass01.html-Cuny9FB9.js" as="script"><link rel="prefetch" href="/assets/s_ass02.html-DQ_eNEnc.js" as="script"><link rel="prefetch" href="/assets/s_ass03.html-C161D25E.js" as="script"><link rel="prefetch" href="/assets/s_ass04.html-DgMatPAw.js" as="script"><link rel="prefetch" href="/assets/s_ass05.html-K2n9HzNW.js" as="script"><link rel="prefetch" href="/assets/s_ass06.html-D5a3zdoG.js" as="script"><link rel="prefetch" href="/assets/s_ass07.html-sRspMkaT.js" as="script"><link rel="prefetch" href="/assets/s_ass08.html-CPSPFVVO.js" as="script"><link rel="prefetch" href="/assets/s_ass09.html-Dhbc0i7C.js" as="script"><link rel="prefetch" href="/assets/s_ass10.html-gzT6L_cB.js" as="script"><link rel="prefetch" href="/assets/s_ass11.html-BfP_2pQe.js" as="script"><link rel="prefetch" href="/assets/s_ass12.html-rFMTJqdd.js" as="script"><link rel="prefetch" href="/assets/Assessed_work.html-D0yovSG3.js" as="script"><link rel="prefetch" href="/assets/Report.html-CsCRl8-7.js" as="script"><link rel="prefetch" href="/assets/Week01_ass.html-Do1vHNAK.js" as="script"><link rel="prefetch" href="/assets/Week02.html-gw-5grzF.js" as="script"><link rel="prefetch" href="/assets/Week0203.html-vzLin1NU.js" as="script"><link rel="prefetch" href="/assets/Week02_ass.html-DLHt6wWO.js" as="script"><link rel="prefetch" href="/assets/Week03.html-CxcG7Sqx.js" as="script"><link rel="prefetch" href="/assets/Week0405.html-C6JlHReG.js" as="script"><link rel="prefetch" href="/assets/Week05.html-Ch0vgVIW.js" as="script"><link rel="prefetch" href="/assets/Week06.html-aRixCMqy.js" as="script"><link rel="prefetch" href="/assets/Week0607.html-CyfiqqF3.js" as="script"><link rel="prefetch" href="/assets/Week07.html-B1udnIfh.js" as="script"><link rel="prefetch" href="/assets/Week08.html-CjuTXKAA.js" as="script"><link rel="prefetch" href="/assets/Week080910.html-BCIe6uBQ.js" as="script"><link rel="prefetch" href="/assets/Week09.html-Mp2yLc2A.js" as="script"><link rel="prefetch" href="/assets/Week0910.html-C97dcD3T.js" as="script"><link rel="prefetch" href="/assets/Week10.html-CQyh2Uq5.js" as="script"><link rel="prefetch" href="/assets/mistakebook.html-C4YFq3f3.js" as="script"><link rel="prefetch" href="/assets/summary.html-BeKP8aJ1.js" as="script"><link rel="prefetch" href="/assets/CS_Class_01.html-Ch-y_FBu.js" as="script"><link rel="prefetch" href="/assets/CS_Class_02.html-DHzxv3DC.js" as="script"><link rel="prefetch" href="/assets/CS_Method.html-RNl8rocu.js" as="script"><link rel="prefetch" href="/assets/CS_array_string.html-D6OMPkIw.js" as="script"><link rel="prefetch" href="/assets/CS_basic_conception.html-CDZuPSId.js" as="script"><link rel="prefetch" href="/assets/CS_condition_loop.html-BJvXYcVV.js" as="script"><link rel="prefetch" href="/assets/CS_delegate.html-D0zmAA3t.js" as="script"><link rel="prefetch" href="/assets/1.html-CFpNK6c_.js" as="script"><link rel="prefetch" href="/assets/2.html-BCoE_LtN.js" as="script"><link rel="prefetch" href="/assets/3.html-hFtoy3g_.js" as="script"><link rel="prefetch" href="/assets/4.html-DLUvqtQw.js" as="script"><link rel="prefetch" href="/assets/01.html-BgJryf42.js" as="script"><link rel="prefetch" href="/assets/02.html-DOA2JYH5.js" as="script"><link rel="prefetch" href="/assets/03.html-BJbIeyUF.js" as="script"><link rel="prefetch" href="/assets/04.html-CWat5Evp.js" as="script"><link rel="prefetch" href="/assets/05.html-BDKfbPUu.js" as="script"><link rel="prefetch" href="/assets/DS_review.html-BFvQ5hvc.js" as="script"><link rel="prefetch" href="/assets/01.html-CN61-ZuU.js" as="script"><link rel="prefetch" href="/assets/02.html-Dj4pJVhU.js" as="script"><link rel="prefetch" href="/assets/03.html-CeIGUZ_N.js" as="script"><link rel="prefetch" href="/assets/ass_408.html-CTb5GOWw.js" as="script"><link rel="prefetch" href="/assets/bottleneck.html-D3Y-pPzx.js" as="script"><link rel="prefetch" href="/assets/cnn.html-Dzifm-hi.js" as="script"><link rel="prefetch" href="/assets/dp_api.html-CN6ffcFo.js" as="script"><link rel="prefetch" href="/assets/early_stop.html-CNHvtwhB.js" as="script"><link rel="prefetch" href="/assets/mlp_exe.html-BIITKQ_T.js" as="script"><link rel="prefetch" href="/assets/rnn.html-DC-M_Nu0.js" as="script"><link rel="prefetch" href="/assets/01-03.html-BVEkhQSU.js" as="script"><link rel="prefetch" href="/assets/CNN.html-CX5xpY92.js" as="script"><link rel="prefetch" href="/assets/OA.html-CcmlFhpJ.js" as="script"><link rel="prefetch" href="/assets/RNN.html-DiNXVdvF.js" as="script"><link rel="prefetch" href="/assets/Daily_assignment.html-BT1ECiDs.js" as="script"><link rel="prefetch" href="/assets/math.html-OSykxTWf.js" as="script"><link rel="prefetch" href="/assets/Week01.html-med7BKV3.js" as="script"><link rel="prefetch" href="/assets/Week02.html-DaD4SCmK.js" as="script"><link rel="prefetch" href="/assets/Week03.html-DrQjXlK0.js" as="script"><link rel="prefetch" href="/assets/Week04.html-0gdmekB-.js" as="script"><link rel="prefetch" href="/assets/Week05.html-DFuy358P.js" as="script"><link rel="prefetch" href="/assets/final_report.html-D84H8_sJ.js" as="script"><link rel="prefetch" href="/assets/assignment.html-DJLolgLr.js" as="script"><link rel="prefetch" href="/assets/ch02.html-fG4YxIHU.js" as="script"><link rel="prefetch" href="/assets/ch03.html-DHLTK4xn.js" as="script"><link rel="prefetch" href="/assets/ch04.html-CkZ-mwCg.js" as="script"><link rel="prefetch" href="/assets/ch05.html-Cmm8zMQI.js" as="script"><link rel="prefetch" href="/assets/ch06.html-oZKUX5c-.js" as="script"><link rel="prefetch" href="/assets/ch07.html-CPYgigXy.js" as="script"><link rel="prefetch" href="/assets/ch08.html-D8B5W61f.js" as="script"><link rel="prefetch" href="/assets/ch09.html-GCDWuoce.js" as="script"><link rel="prefetch" href="/assets/ch10.html-DU4TaHHZ.js" as="script"><link rel="prefetch" href="/assets/ch11.html-36FV_4MN.js" as="script"><link rel="prefetch" href="/assets/ch12.html-DcOStlOd.js" as="script"><link rel="prefetch" href="/assets/enreport.html-BF_qzgXE.js" as="script"><link rel="prefetch" href="/assets/re_ve.html-CfZtHCyf.js" as="script"><link rel="prefetch" href="/assets/report.html-CsnuD1co.js" as="script"><link rel="prefetch" href="/assets/sum.html-D8hoibjI.js" as="script"><link rel="prefetch" href="/assets/01.html-Bsyjw0BP.js" as="script"><link rel="prefetch" href="/assets/02.html-CydOjJ0y.js" as="script"><link rel="prefetch" href="/assets/03.html-CoD1V-Ns.js" as="script"><link rel="prefetch" href="/assets/04.html-C8-zrKiF.js" as="script"><link rel="prefetch" href="/assets/05.html-DUOfRWIU.js" as="script"><link rel="prefetch" href="/assets/Review_question.html-B6s8yZYd.js" as="script"><link rel="prefetch" href="/assets/bert_essay.html-69-9Q689.js" as="script"><link rel="prefetch" href="/assets/exercise.html-BAARS1l_.js" as="script"><link rel="prefetch" href="/assets/question02.html-ClBUhqJC.js" as="script"><link rel="prefetch" href="/assets/task.html-DQYHt-oX.js" as="script"><link rel="prefetch" href="/assets/A_L.html-DOhvt5aB.js" as="script"><link rel="prefetch" href="/assets/Coventry_Class_01.html-BM7MlK5A.js" as="script"><link rel="prefetch" href="/assets/Coventry_Class_02.html-ZmZ2Rqtt.js" as="script"><link rel="prefetch" href="/assets/Coventry_Method.html-B803M_4s.js" as="script"><link rel="prefetch" href="/assets/Delegates_and_Events.html-uHvxia9O.js" as="script"><link rel="prefetch" href="/assets/Generics.html-DvaSraEl.js" as="script"><link rel="prefetch" href="/assets/Inheritance.html-yVuBB6_b.js" as="script"><link rel="prefetch" href="/assets/Interfaces.html-BzS4S1nw.js" as="script"><link rel="prefetch" href="/assets/review.html-BwFY5W7k.js" as="script"><link rel="prefetch" href="/assets/Agile_01.html-xIFRuz7x.js" as="script"><link rel="prefetch" href="/assets/Agile_02.html-DP75L8ZP.js" as="script"><link rel="prefetch" href="/assets/Data_modelling.html-DlvPjA1V.js" as="script"><link rel="prefetch" href="/assets/Ethics.html-PO0vHuAJ.js" as="script"><link rel="prefetch" href="/assets/Gof.html-BfGp-nbW.js" as="script"><link rel="prefetch" href="/assets/Gof_02.html-skqbQ_aD.js" as="script"><link rel="prefetch" href="/assets/OO_conception.html-CNZ-k-wz.js" as="script"><link rel="prefetch" href="/assets/OO_principle.html-C-INbLPa.js" as="script"><link rel="prefetch" href="/assets/Software_Design.html-CzVG-xMk.js" as="script"><link rel="prefetch" href="/assets/Software_Testing.html-0Tb4XXYA.js" as="script"><link rel="prefetch" href="/assets/TOEFL_speaking1.html-CHq4_tTd.js" as="script"><link rel="prefetch" href="/assets/TOEFL_speaking2.html-CxaJCG_r.js" as="script"><link rel="prefetch" href="/assets/TOEFL_speaking3.html-BTCyy3s5.js" as="script"><link rel="prefetch" href="/assets/TOEFL_speaking4.html-O9p4RIhb.js" as="script"><link rel="prefetch" href="/assets/TOEFL_writing.html-CQdcnBOF.js" as="script"><link rel="prefetch" href="/assets/accumulation.html-D1bx1-tJ.js" as="script"><link rel="prefetch" href="/assets/ad_wr.html-DaI35klt.js" as="script"><link rel="prefetch" href="/assets/assi_dairy.html-DJdACvqB.js" as="script"><link rel="prefetch" href="/assets/correction_notebook.html-DgB011eq.js" as="script"><link rel="prefetch" href="/assets/listen_class.html-DysSitIf.js" as="script"><link rel="prefetch" href="/assets/logical_chain.html-DqJ-sQXx.js" as="script"><link rel="prefetch" href="/assets/question.html-DOidLUxg.js" as="script"><link rel="prefetch" href="/assets/reading.html-B47G7Iqj.js" as="script"><link rel="prefetch" href="/assets/reading01.html-Df5LkEBN.js" as="script"><link rel="prefetch" href="/assets/reading02.html-Dt491qcH.js" as="script"><link rel="prefetch" href="/assets/spclass.html-BVJwyjZx.js" as="script"><link rel="prefetch" href="/assets/spk_mtrl.html-Bs-vvJX1.js" as="script"><link rel="prefetch" href="/assets/translation_training.html-DF3d723r.js" as="script"><link rel="prefetch" href="/assets/wr_class.html-BkT8Gfyu.js" as="script"><link rel="prefetch" href="/assets/wr_mistake.html-DD2A8ME9.js" as="script"><link rel="prefetch" href="/assets/stock.html-v3-18EWZ.js" as="script"><link rel="prefetch" href="/assets/Agricultural_Bank_of_China.html-CfGalI-E.js" as="script"><link rel="prefetch" href="/assets/Agriculture_robot.html-BD-f9BPV.js" as="script"><link rel="prefetch" href="/assets/istarshine.html-DqdR0pjn.js" as="script"><link rel="prefetch" href="/assets/istarshine01.html-CzFor8Rn.js" as="script"><link rel="prefetch" href="/assets/self_introduce.html-B-u6Yd1T.js" as="script"><link rel="prefetch" href="/assets/Data-type.html-CymMaRCK.js" as="script"><link rel="prefetch" href="/assets/Dictionary.html-o3TWDNIw.js" as="script"><link rel="prefetch" href="/assets/Document.html-DpTnUNnC.js" as="script"><link rel="prefetch" href="/assets/For.html-DtZq30mG.js" as="script"><link rel="prefetch" href="/assets/Homework1.html-Cc065WMN.js" as="script"><link rel="prefetch" href="/assets/If_Homework.html-DuSmLJGE.js" as="script"><link rel="prefetch" href="/assets/List.html-DpItdwAN.js" as="script"><link rel="prefetch" href="/assets/List_Homework.html-Ql2jORkj.js" as="script"><link rel="prefetch" href="/assets/Numeric.html-x2rwFYcK.js" as="script"><link rel="prefetch" href="/assets/Set.html-BdDQlCH1.js" as="script"><link rel="prefetch" href="/assets/String.html-DrMVnxiv.js" as="script"><link rel="prefetch" href="/assets/String_Homework.html-Dk9WSRKQ.js" as="script"><link rel="prefetch" href="/assets/Variable.html-BEyRAFp-.js" as="script"><link rel="prefetch" href="/assets/While.html-BAe1bASv.js" as="script"><link rel="prefetch" href="/assets/bool.html-BG2r7SdZ.js" as="script"><link rel="prefetch" href="/assets/function.html-D9z7tiP6.js" as="script"><link rel="prefetch" href="/assets/if.html-Cfdjev33.js" as="script"><link rel="prefetch" href="/assets/recursion.html-oMdG0Rm0.js" as="script"><link rel="prefetch" href="/assets/tuple.html-PeVjy3a_.js" as="script"><link rel="prefetch" href="/assets/404.html-D76wtL2M.js" as="script"><link rel="prefetch" href="/assets/index.html-D9iSJbzp.js" as="script"><link rel="prefetch" href="/assets/index.html-CaNPnU8Y.js" as="script"><link rel="prefetch" href="/assets/index.html-CpR_grgH.js" as="script"><link rel="prefetch" href="/assets/index.html-CXjTjI6t.js" as="script"><link rel="prefetch" href="/assets/index.html-DOD-5aN6.js" as="script"><link rel="prefetch" href="/assets/index.html-ClVrfs5I.js" as="script"><link rel="prefetch" href="/assets/index.html-C1n0NAqC.js" as="script"><link rel="prefetch" href="/assets/index.html-C-lpVN8J.js" as="script"><link rel="prefetch" href="/assets/index.html-B2cX_Q17.js" as="script"><link rel="prefetch" href="/assets/index.html-BXqaqhws.js" as="script"><link rel="prefetch" href="/assets/index.html-DYtM_Z4T.js" as="script"><link rel="prefetch" href="/assets/index.html-BH7EkY35.js" as="script"><link rel="prefetch" href="/assets/index.html-D5qVg5Il.js" as="script"><link rel="prefetch" href="/assets/index.html-mKwv4N4P.js" as="script"><link rel="prefetch" href="/assets/index.html-CzNc8Z2i.js" as="script"><link rel="prefetch" href="/assets/index.html-Dwr-4FA5.js" as="script"><link rel="prefetch" href="/assets/index.html-BcnrIDQW.js" as="script"><link rel="prefetch" href="/assets/index.html-CgkmyniY.js" as="script"><link rel="prefetch" href="/assets/index.html-8n1mya6-.js" as="script"><link rel="prefetch" href="/assets/index.html-D2gXR6lL.js" as="script"><link rel="prefetch" href="/assets/index.html-CQZsZ6nE.js" as="script"><link rel="prefetch" href="/assets/index.html-r5UmHYc8.js" as="script"><link rel="prefetch" href="/assets/index.html-Cp0xZzup.js" as="script"><link rel="prefetch" href="/assets/index.html-CGtnl6OT.js" as="script"><link rel="prefetch" href="/assets/index.html-JWtzarEt.js" as="script"><link rel="prefetch" href="/assets/index.html-C_WTLa6p.js" as="script"><link rel="prefetch" href="/assets/index.html-Cyl5yutW.js" as="script"><link rel="prefetch" href="/assets/index.html-CesX3mUY.js" as="script"><link rel="prefetch" href="/assets/index.html-DjnqdHHD.js" as="script"><link rel="prefetch" href="/assets/index.html-Hs7TGvLk.js" as="script"><link rel="prefetch" href="/assets/index.html-DMgeipi_.js" as="script"><link rel="prefetch" href="/assets/index.html-KW0hXAOn.js" as="script"><link rel="prefetch" href="/assets/index.html-Xkk7pgLT.js" as="script"><link rel="prefetch" href="/assets/index.html-Dju5aeU9.js" as="script"><link rel="prefetch" href="/assets/index.html-TNtLHm9F.js" as="script"><link rel="prefetch" href="/assets/index.html-UeE0l6qh.js" as="script"><link rel="prefetch" href="/assets/index.html-D5ezi8EG.js" as="script"><link rel="prefetch" href="/assets/index.html-Ci2Dg8W2.js" as="script"><link rel="prefetch" href="/assets/index.html-H844SkH1.js" as="script"><link rel="prefetch" href="/assets/index.html-Dpjqe0YM.js" as="script"><link rel="prefetch" href="/assets/index.html-B1ijz358.js" as="script"><link rel="prefetch" href="/assets/index.html-B3uBtze_.js" as="script"><link rel="prefetch" href="/assets/index.html-teMZSwx0.js" as="script"><link rel="prefetch" href="/assets/index.html-D_lwJkWG.js" as="script"><link rel="prefetch" href="/assets/index.html-DHEmKqc-.js" as="script"><link rel="prefetch" href="/assets/index.html-OVH6GD2t.js" as="script"><link rel="prefetch" href="/assets/index.html-M_mbE1HK.js" as="script"><link rel="prefetch" href="/assets/index.html-DZBpgM7U.js" as="script"><link rel="prefetch" href="/assets/index.html-CIiwCl9H.js" as="script"><link rel="prefetch" href="/assets/index.html-CMY-kAv9.js" as="script"><link rel="prefetch" href="/assets/index.html-D0Cb8_83.js" as="script"><link rel="prefetch" href="/assets/index.html-hmPXxEpy.js" as="script"><link rel="prefetch" href="/assets/index.html-CSWLS2NC.js" as="script"><link rel="prefetch" href="/assets/index.html-veiL62Yy.js" as="script"><link rel="prefetch" href="/assets/index.html-Dv6wr6mZ.js" as="script"><link rel="prefetch" href="/assets/index.html-C2ftVb58.js" as="script"><link rel="prefetch" href="/assets/index.html-20rDLDqt.js" as="script"><link rel="prefetch" href="/assets/index.html-CUgzeY46.js" as="script"><link rel="prefetch" href="/assets/index.html-WfSNltCO.js" as="script"><link rel="prefetch" href="/assets/index.html-C3DKcH_t.js" as="script"><link rel="prefetch" href="/assets/index.html-DKyFuAtB.js" as="script"><link rel="prefetch" href="/assets/index.html-XGoAIgUX.js" as="script"><link rel="prefetch" href="/assets/index.html-4CfiZ8ST.js" as="script"><link rel="prefetch" href="/assets/index.html-CSUKz5r1.js" as="script"><link rel="prefetch" href="/assets/index.html-CYd43ot4.js" as="script"><link rel="prefetch" href="/assets/index.html-C11yr8rm.js" as="script"><link rel="prefetch" href="/assets/index.html-BA2ssZDP.js" as="script"><link rel="prefetch" href="/assets/index.html-CadKbx0D.js" as="script"><link rel="prefetch" href="/assets/index.html-DyGak3Po.js" as="script"><link rel="prefetch" href="/assets/index.html-CFWw8jv4.js" as="script"><link rel="prefetch" href="/assets/index.html-CrTPa984.js" as="script"><link rel="prefetch" href="/assets/index.html-hzstyiWf.js" as="script"><link rel="prefetch" href="/assets/index.html-DG30Yigo.js" as="script"><link rel="prefetch" href="/assets/index.html-Dy5Tlwp3.js" as="script"><link rel="prefetch" href="/assets/index.html-CwHU9LcX.js" as="script"><link rel="prefetch" href="/assets/index.html-4ok7tNjU.js" as="script"><link rel="prefetch" href="/assets/index.html-DpO-yTAZ.js" as="script"><link rel="prefetch" href="/assets/index.html-B6CHm0sV.js" as="script"><link rel="prefetch" href="/assets/index.html-C_ryqy7q.js" as="script"><link rel="prefetch" href="/assets/index.html-BIpc_w8X.js" as="script"><link rel="prefetch" href="/assets/index.html-WI8XoBCe.js" as="script"><link rel="prefetch" href="/assets/index.html-L3YDa12o.js" as="script"><link rel="prefetch" href="/assets/index.html-DUDwGF-u.js" as="script"><link rel="prefetch" href="/assets/index.html-B3js6QV3.js" as="script"><link rel="prefetch" href="/assets/index.html-Cr8IgsYR.js" as="script"><link rel="prefetch" href="/assets/index.html-CB-_4uvn.js" as="script"><link rel="prefetch" href="/assets/index.html-CL-EXufL.js" as="script"><link rel="prefetch" href="/assets/index.html-gZeX01yz.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-DXWKOczD.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/zh/" aria-label="带我回家"><img class="vp-nav-logo" src="/logo.jpg" alt><!----><span class="vp-site-name hide-in-pad">奶酪奶酪</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/zh/" aria-label="MMoon" iconsizing="height"><!--[--><i class="vp-icon iconfont icon-home" sizing="height"></i><!--]-->MMoon<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/#" aria-label="学校科目" iconsizing="height"><!--[--><i class="vp-icon iconfont icon-style" sizing="height"></i><!--]-->学校科目<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="编程语言"><!--[--><i class="vp-icon iconfont icon-editor" sizing="height"></i>编程语言<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Python</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/" aria-label="课堂笔记" iconsizing="both"><!---->课堂笔记<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">c#</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/#" aria-label="oop" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-xxx" sizing="both"></i><!--]-->oop<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="小猫" iconsizing="height"><!--[--><i class="vp-icon iconfont icon-github" sizing="height"></i><!--]-->小猫<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><div class="vp-nav-item"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="选择语言"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" name="i18n" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/" aria-label="English" iconsizing="both"><!---->English<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/zh/Advanced_Algorithms/Week04.html" aria-label="简体中文" iconsizing="both"><!---->简体中文<!----></a></li></ul></button></div></div><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/Xiaoxianyue/Xiaoxianyue.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/zh/" aria-label="MMoon" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-home" sizing="both"></i><!--]-->MMoon<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Advanced Algorithms</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/summary.html" aria-label="所有知识点总结" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->所有知识点总结<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/mistakebook.html" aria-label="错误总结" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->错误总结<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week01_ass.html" aria-label="高级算法——第1周非评估作业" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第1周非评估作业<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week0203.html" aria-label="高级算法——第2,3周查漏补缺" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第2,3周查漏补缺<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week02.html" aria-label="高级算法——第2周ppt——排序算法" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第2周ppt——排序算法<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week02_ass.html" aria-label="高级算法——第2周非评估作业" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第2周非评估作业<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week03.html" aria-label="高级算法——第3周ppt——搜索算法和堆" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第3周ppt——搜索算法和堆<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week0405.html" aria-label="高级算法——第4,5周查漏补缺" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第4,5周查漏补缺<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/zh/Advanced_Algorithms/Week04.html" aria-label="高级算法——第4周略讲——二叉树" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第4周略讲——二叉树<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week05.html" aria-label="高级算法——第5周ppt总结" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第5周ppt总结<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week0607.html" aria-label="高级算法——第6, 7周查漏补缺" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第6, 7周查漏补缺<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week06.html" aria-label="高级算法——第6周ppt总结" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第6周ppt总结<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week07.html" aria-label="高级算法——第7周ppt总结" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第7周ppt总结<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week08.html" aria-label="高级算法——第8周ppt总结" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第8周ppt总结<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week080910.html" aria-label="高级算法——第8周查漏补缺" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第8周查漏补缺<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week0910.html" aria-label="高级算法——第9,10周查漏补缺" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第9,10周查漏补缺<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week09.html" aria-label="高级算法——第9周ppt总结" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第9周ppt总结<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Week10.html" aria-label="高级算法——第10周ppt总结" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法——第10周ppt总结<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Report.html" aria-label="高级算法作业" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法作业<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/Advanced_Algorithms/Assessed_work.html" aria-label="高级算法作业第一版代码" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->高级算法作业第一版代码<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Big Data</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">CS</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Data Analysis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Data Structure</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Deep Learning</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Deep Thinking</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Diary</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">GRE</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Internship</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java Homework</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Machine Learning</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/MQTT.html" aria-label="MQTT" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-alias" sizing="both"></i><!--]-->MQTT<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">NLP</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">OOP</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Python1v1</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Software Design</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">TOEFL</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Wuhan Uni</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/zh/intro.html" aria-label="介绍页" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-circle-info" sizing="both"></i><!--]-->介绍页<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><i class="vp-icon iconfont icon-python" sizing="height"></i>高级算法——第4周略讲——二叉树</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">XiaoXianYue</span></span><span property="author" content="XiaoXianYue"></span></span><span class="page-original-info">原创</span><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2024年9月26日</span><meta property="datePublished" content="2024-09-26T21:18:12.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 36 分钟</span><meta property="timeRequired" content="PT36M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color8 clickable" role="navigation">大三上</span><span class="page-category-item color1 clickable" role="navigation">高级算法课件</span><!--]--><meta property="articleSection" content="大三上,高级算法课件"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color8 clickable" role="navigation">大三上</span><span class="page-tag-item color1 clickable" role="navigation">高级算法课件</span><!--]--><meta property="keywords" content="大三上,高级算法课件"></span></div><hr></div><!----><!----><div class="theme-hope-content" vp-content><h2 id="_1-二叉树基本信息" tabindex="-1"><a class="header-anchor" href="#_1-二叉树基本信息"><span>1. 二叉树基本信息</span></a></h2><p>二叉树（Binary Tree）是一种非线性数据结构，代表“祖先”和“后代”的派生关系，体现了“一分为二”的分治逻辑。与链表类似，二叉树的基本单元是节点，每个节点包含值，左子结点引用和右子节点引用。</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">:</span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val   </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">   # 左子节点</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 右子节点</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每个节点都有两个引用（指针）。分别指向左子结点（left-child node）和右子节点（right-child node），该节点被称为这两个子节点的父节点（parent node）。当给定一个二叉树的节点时，我们将该节点的左子结点及其以下节点形成的数称为该节点的左子树（left-subtree），同理可得右子树（right-subtree)。</p><p>在二叉树中，除叶节点外，其他所有节点都包含子节点和非空子树。如图所示，如果讲“节点2”视作父节点，则其左子节点和右子节点分别是“节点4”和“节点5”，左子树是“节点4及其以下节点形成的树”，右子树是“节点5及其以下节点形成的树”。</p><figure><img src="/assets/aaa-xpD3vIj2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>常用术语：</p><ul><li>根结点（root node）：位于二叉树顶层的节点，没有父节点。</li><li>叶节点（leaf node）：没有子节点的节点，其两个指针均指向 <code>None</code></li><li>边（edge）：连接两个节点的线段，即节点引用（指针）。</li><li>节点所在的层（level）：从顶至底递增，根结点所在层为 1.</li><li>二叉树的高度（height）：从根节点到最远叶节点所经过的边的数量。</li><li>节点的度（degree）：节点的子节点的数量，在二叉树中，度的取值范围是0、1、2。</li><li>节点的深度（depth）：从根结点到该节点所经历边的数量。</li><li>节点的高度（height）：从距离该节点最远的叶节点到该节点所经过的边的数量。</li></ul><figure><img src="/assets/kskkk-BiZwbW_r.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container warning"><p class="hint-container-title">注意</p><p>请注意，我们通常将“高度”和“深度”定义为“经过的边的数量”，但有些题目或教材可能会将其定义为“经过的节点的数量”。在这种情况下，高度和深度都需要加 1 。</p></div><h2 id="_2-二叉树基本操作" tabindex="-1"><a class="header-anchor" href="#_2-二叉树基本操作"><span>2. 二叉树基本操作</span></a></h2><h3 id="_2-1-初始化二叉树" tabindex="-1"><a class="header-anchor" href="#_2-1-初始化二叉树"><span>2.1 初始化二叉树</span></a></h3><p>与链表类似，首先初始化节点。</p><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val  </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 右子节点</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><iframe width="800" height="500" frameborder="0" src="https://pythontutor.com/iframe-embed.html#code=class%20TreeNode%3A%0A%20%20%20%20def%20__init__%28self,%20val%3A%20int%29%3A%0A%20%20%20%20%20%20%20%20self.val%20%3D%20val%20%20%23%20%E8%8A%82%E7%82%B9%E5%80%BC%0A%20%20%20%20%20%20%20%20self.left%20%3D%20None%20%20%23%20%E5%B7%A6%E5%AD%90%E8%8A%82%E7%82%B9%0A%20%20%20%20%20%20%20%20self.right%20%3D%20None%20%20%23%20%E5%8F%B3%E5%AD%90%E8%8A%82%E7%82%B9%0A%0A%0An1%20%3D%20TreeNode%28val%3D1%29%0An2%20%3D%20TreeNode%28val%3D2%29%0An3%20%3D%20TreeNode%28val%3D3%29%0An4%20%3D%20TreeNode%28val%3D4%29%0An5%20%3D%20TreeNode%28val%3D5%29%0An1.left%20%3D%20n2%0An1.right%20%3D%20n3%0An2.left%20%3D%20n4%0An2.right%20%3D%20n5&amp;codeDivHeight=400&amp;codeDivWidth=350&amp;cumulative=false&amp;curInstr=35&amp;heapPrimitives=nevernest&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false"></iframe><p>由 <a href="https://pythontutor.com" target="_blank" rel="noopener noreferrer"></a> 可知以上代码的运行逻辑，即先建立所有节点的子节点并初始化为None，再把相应的子节点一一对应放入。</p><h3 id="_2-2-插入与删除节点" tabindex="-1"><a class="header-anchor" href="#_2-2-插入与删除节点"><span>2.2 插入与删除节点</span></a></h3><p>与链表类似，在二叉树中插入与删除节点可以通过修改指针来实现。</p><ol><li>下图示意的是插入节点的过程。</li></ol><figure><img src="/assets/5217dda2d00603619c9fd8cd8629436-D7QpmTBq.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>插入节点的代码：</p><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val  </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 右子节点</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">p </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n1</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> p</span></span>
<span class="line"><span style="color:#F8F8F2;">p.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>去掉刚刚添加的节点？</p><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val  </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 右子节点</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">p </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n1</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> p</span></span>
<span class="line"><span style="color:#F8F8F2;">p.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>可视化输出二叉树：</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-110-0" aria-selected="true">原二叉树</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-110-1" aria-selected="false">二叉树添加节点p后</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-110-2" aria-selected="false">二叉树再删除节点p</button></div><!--[--><div class="vp-tab active" id="tab-110-0" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">原二叉树</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> display</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;打印二叉树为字符树&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">    lines, </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;">_ </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(root)</span></span>
<span class="line"><span style="color:#F92672;">    for</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> lines:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(line)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> _display_aux</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;返回包含当前子树所有行的列表，以及子树宽度、高度和水平坐标&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&quot; &quot;</span><span style="color:#F8F8F2;">], </span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    line </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;font-style:italic;"> f</span><span style="color:#E6DB74;">&#39;</span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">node.val</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    width </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;"> len</span><span style="color:#F8F8F2;">(line)</span></span>
<span class="line"><span style="color:#F8F8F2;">    height </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 1</span></span>
<span class="line"><span style="color:#F8F8F2;">    middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 只有左子树</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">and</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> node.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        l_lines, l_width, l_height, l_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.left)</span></span>
<span class="line"><span style="color:#F8F8F2;">        first_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_middle </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> line</span></span>
<span class="line"><span style="color:#F8F8F2;">        second_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;/&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F92672;"> +</span><span style="color:#F8F8F2;"> width)</span></span>
<span class="line"><span style="color:#F8F8F2;">        shifted_lines </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [line </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">for</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> l_lines]</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [first_line, second_line] </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> shifted_lines, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width, l_height </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 2</span><span style="color:#F8F8F2;">, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 只有右子树</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">and</span><span style="color:#F8F8F2;"> node.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        r_lines, r_width, r_height, r_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.right)</span></span>
<span class="line"><span style="color:#F8F8F2;">        first_line </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle)</span></span>
<span class="line"><span style="color:#F8F8F2;">        second_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_middle) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;</span><span style="color:#AE81FF;">\\</span><span style="color:#E6DB74;">&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        shifted_lines </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">for</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> r_lines]</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [first_line, second_line] </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> shifted_lines, width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_width, r_height </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 2</span><span style="color:#F8F8F2;">, width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 同时有左右子树</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">and</span><span style="color:#F8F8F2;"> node.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        l_lines, l_width, l_height, l_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.left)</span></span>
<span class="line"><span style="color:#F8F8F2;">        r_lines, r_width, r_height, r_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.right)</span></span>
<span class="line"><span style="color:#F8F8F2;">        first_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_middle </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle)</span></span>
<span class="line"><span style="color:#F8F8F2;">        second_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;/&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F92672;"> +</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_middle) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;</span><span style="color:#AE81FF;">\\</span><span style="color:#E6DB74;">&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#88846F;">        # 对齐高度</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> l_height </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> r_height:</span></span>
<span class="line"><span style="color:#F8F8F2;">            l_lines </span><span style="color:#F92672;">+=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> l_width] </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;"> (r_height </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_height)</span></span>
<span class="line"><span style="color:#F92672;">        elif</span><span style="color:#F8F8F2;"> r_height </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> l_height:</span></span>
<span class="line"><span style="color:#F8F8F2;">            r_lines </span><span style="color:#F92672;">+=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> r_width] </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;"> (l_height </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_height)</span></span>
<span class="line"><span style="color:#F8F8F2;">        merged_lines </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [a </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> b </span><span style="color:#F92672;">for</span><span style="color:#F8F8F2;"> a, b </span><span style="color:#F92672;">in</span><span style="color:#66D9EF;"> zip</span><span style="color:#F8F8F2;">(l_lines, r_lines)]</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [first_line, second_line] </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> merged_lines, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_width, </span><span style="color:#66D9EF;">max</span><span style="color:#F8F8F2;">(l_height, r_height) </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 2</span><span style="color:#F8F8F2;">, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 叶子节点</span></span>
<span class="line"><span style="color:#F92672;">    return</span><span style="color:#F8F8F2;"> [line], width, height, middle</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 示例：创建二叉树并打印</span></span>
<span class="line"><span style="color:#F8F8F2;">root </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">root.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">root.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">root.left.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">root.left.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">root.right.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">display(root)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>/ output</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F8F8F2;">  _1 </span></span>
<span class="line"><span style="color:#F92672;"> /</span><span style="color:#F8F8F2;">  \</span></span>
<span class="line"><span style="color:#AE81FF;"> 2</span><span style="color:#AE81FF;">  3</span></span>
<span class="line"><span style="color:#F92672;">/</span><span style="color:#F8F8F2;"> \  </span></span>
<span class="line"><span style="color:#AE81FF;">4</span><span style="color:#AE81FF;"> 5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p><!--]--></div><div class="vp-tab" id="tab-110-1" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">二叉树添加节点p后</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> display</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;打印二叉树为字符树&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">    lines, </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;">_ </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(root)</span></span>
<span class="line"><span style="color:#F92672;">    for</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> lines:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(line)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> _display_aux</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;返回包含当前子树所有行的列表，以及子树宽度、高度和水平坐标&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&quot; &quot;</span><span style="color:#F8F8F2;">], </span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    line </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;font-style:italic;"> f</span><span style="color:#E6DB74;">&#39;</span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">node.val</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    width </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;"> len</span><span style="color:#F8F8F2;">(line)</span></span>
<span class="line"><span style="color:#F8F8F2;">    height </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 1</span></span>
<span class="line"><span style="color:#F8F8F2;">    middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 只有左子树</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">and</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> node.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        l_lines, l_width, l_height, l_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.left)</span></span>
<span class="line"><span style="color:#F8F8F2;">        first_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_middle </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> line</span></span>
<span class="line"><span style="color:#F8F8F2;">        second_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;/&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F92672;"> +</span><span style="color:#F8F8F2;"> width)</span></span>
<span class="line"><span style="color:#F8F8F2;">        shifted_lines </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [line </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">for</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> l_lines]</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [first_line, second_line] </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> shifted_lines, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width, l_height </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 2</span><span style="color:#F8F8F2;">, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 只有右子树</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">and</span><span style="color:#F8F8F2;"> node.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        r_lines, r_width, r_height, r_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.right)</span></span>
<span class="line"><span style="color:#F8F8F2;">        first_line </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle)</span></span>
<span class="line"><span style="color:#F8F8F2;">        second_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_middle) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;</span><span style="color:#AE81FF;">\\</span><span style="color:#E6DB74;">&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        shifted_lines </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">for</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> r_lines]</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [first_line, second_line] </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> shifted_lines, width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_width, r_height </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 2</span><span style="color:#F8F8F2;">, width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 同时有左右子树</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">and</span><span style="color:#F8F8F2;"> node.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        l_lines, l_width, l_height, l_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.left)</span></span>
<span class="line"><span style="color:#F8F8F2;">        r_lines, r_width, r_height, r_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.right)</span></span>
<span class="line"><span style="color:#F8F8F2;">        first_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_middle </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle)</span></span>
<span class="line"><span style="color:#F8F8F2;">        second_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;/&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F92672;"> +</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_middle) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;</span><span style="color:#AE81FF;">\\</span><span style="color:#E6DB74;">&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#88846F;">        # 对齐高度</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> l_height </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> r_height:</span></span>
<span class="line"><span style="color:#F8F8F2;">            l_lines </span><span style="color:#F92672;">+=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> l_width] </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;"> (r_height </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_height)</span></span>
<span class="line"><span style="color:#F92672;">        elif</span><span style="color:#F8F8F2;"> r_height </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> l_height:</span></span>
<span class="line"><span style="color:#F8F8F2;">            r_lines </span><span style="color:#F92672;">+=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> r_width] </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;"> (l_height </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_height)</span></span>
<span class="line"><span style="color:#F8F8F2;">        merged_lines </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [a </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> b </span><span style="color:#F92672;">for</span><span style="color:#F8F8F2;"> a, b </span><span style="color:#F92672;">in</span><span style="color:#66D9EF;"> zip</span><span style="color:#F8F8F2;">(l_lines, r_lines)]</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [first_line, second_line] </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> merged_lines, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_width, </span><span style="color:#66D9EF;">max</span><span style="color:#F8F8F2;">(l_height, r_height) </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 2</span><span style="color:#F8F8F2;">, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 叶子节点</span></span>
<span class="line"><span style="color:#F92672;">    return</span><span style="color:#F8F8F2;"> [line], width, height, middle</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 示例：创建二叉树并打印</span></span>
<span class="line"><span style="color:#88846F;"># root = TreeNode(1)</span></span>
<span class="line"><span style="color:#88846F;"># root.left = TreeNode(2)</span></span>
<span class="line"><span style="color:#88846F;"># root.right = TreeNode(3)</span></span>
<span class="line"><span style="color:#88846F;"># root.left.left = TreeNode(4)</span></span>
<span class="line"><span style="color:#88846F;"># root.left.right = TreeNode(5)</span></span>
<span class="line"><span style="color:#88846F;"># root.right.right = TreeNode(6)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">p </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n1</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> p</span></span>
<span class="line"><span style="color:#F8F8F2;">p.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">display(n1)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>/ output</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#AE81FF;">    1</span><span style="color:#F8F8F2;"> </span></span>
<span class="line"><span style="color:#F92672;">   /</span><span style="color:#F8F8F2;"> \</span></span>
<span class="line"><span style="color:#F8F8F2;">  _0 </span><span style="color:#AE81FF;">3</span></span>
<span class="line"><span style="color:#F92672;"> /</span><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#AE81FF;"> 2</span><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F92672;">/</span><span style="color:#F8F8F2;"> \   </span></span>
<span class="line"><span style="color:#AE81FF;">4</span><span style="color:#AE81FF;"> 5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p><!--]--></div><div class="vp-tab" id="tab-110-2" role="tabpanel" aria-expanded="false"><div class="vp-tab-title">二叉树再删除节点p</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> display</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;打印二叉树为字符树&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">    lines, </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;">_ </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(root)</span></span>
<span class="line"><span style="color:#F92672;">    for</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> lines:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(line)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> _display_aux</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;返回包含当前子树所有行的列表，以及子树宽度、高度和水平坐标&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&quot; &quot;</span><span style="color:#F8F8F2;">], </span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    line </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;font-style:italic;"> f</span><span style="color:#E6DB74;">&#39;</span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">node.val</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;">&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">    width </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;"> len</span><span style="color:#F8F8F2;">(line)</span></span>
<span class="line"><span style="color:#F8F8F2;">    height </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 1</span></span>
<span class="line"><span style="color:#F8F8F2;">    middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 只有左子树</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">and</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> node.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        l_lines, l_width, l_height, l_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.left)</span></span>
<span class="line"><span style="color:#F8F8F2;">        first_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_middle </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> line</span></span>
<span class="line"><span style="color:#F8F8F2;">        second_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;/&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F92672;"> +</span><span style="color:#F8F8F2;"> width)</span></span>
<span class="line"><span style="color:#F8F8F2;">        shifted_lines </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [line </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">for</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> l_lines]</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [first_line, second_line] </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> shifted_lines, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width, l_height </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 2</span><span style="color:#F8F8F2;">, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 只有右子树</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">and</span><span style="color:#F8F8F2;"> node.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        r_lines, r_width, r_height, r_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.right)</span></span>
<span class="line"><span style="color:#F8F8F2;">        first_line </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle)</span></span>
<span class="line"><span style="color:#F8F8F2;">        second_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_middle) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;</span><span style="color:#AE81FF;">\\</span><span style="color:#E6DB74;">&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        shifted_lines </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">for</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> r_lines]</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [first_line, second_line] </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> shifted_lines, width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_width, r_height </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 2</span><span style="color:#F8F8F2;">, width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 同时有左右子树</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">and</span><span style="color:#F8F8F2;"> node.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        l_lines, l_width, l_height, l_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.left)</span></span>
<span class="line"><span style="color:#F8F8F2;">        r_lines, r_width, r_height, r_middle </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> _display_aux(node.right)</span></span>
<span class="line"><span style="color:#F8F8F2;">        first_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_middle </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> line </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;_&#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle)</span></span>
<span class="line"><span style="color:#F8F8F2;">        second_line </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;/&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (l_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F92672;"> +</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_middle) </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39;</span><span style="color:#AE81FF;">\\</span><span style="color:#E6DB74;">&#39;</span><span style="color:#F92672;"> +</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> (r_width </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_middle </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#88846F;">        # 对齐高度</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> l_height </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> r_height:</span></span>
<span class="line"><span style="color:#F8F8F2;">            l_lines </span><span style="color:#F92672;">+=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> l_width] </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;"> (r_height </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> l_height)</span></span>
<span class="line"><span style="color:#F92672;">        elif</span><span style="color:#F8F8F2;"> r_height </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> l_height:</span></span>
<span class="line"><span style="color:#F8F8F2;">            r_lines </span><span style="color:#F92672;">+=</span><span style="color:#F8F8F2;"> [</span><span style="color:#E6DB74;">&#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> r_width] </span><span style="color:#F92672;">*</span><span style="color:#F8F8F2;"> (l_height </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;"> r_height)</span></span>
<span class="line"><span style="color:#F8F8F2;">        merged_lines </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [a </span><span style="color:#F92672;">+</span><span style="color:#E6DB74;"> &#39; &#39;</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> b </span><span style="color:#F92672;">for</span><span style="color:#F8F8F2;"> a, b </span><span style="color:#F92672;">in</span><span style="color:#66D9EF;"> zip</span><span style="color:#F8F8F2;">(l_lines, r_lines)]</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> [first_line, second_line] </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> merged_lines, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> r_width, </span><span style="color:#66D9EF;">max</span><span style="color:#F8F8F2;">(l_height, r_height) </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 2</span><span style="color:#F8F8F2;">, l_width </span><span style="color:#F92672;">+</span><span style="color:#F8F8F2;"> width </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 叶子节点</span></span>
<span class="line"><span style="color:#F92672;">    return</span><span style="color:#F8F8F2;"> [line], width, height, middle</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 示例：创建二叉树并打印</span></span>
<span class="line"><span style="color:#88846F;"># root = TreeNode(1)</span></span>
<span class="line"><span style="color:#88846F;"># root.left = TreeNode(2)</span></span>
<span class="line"><span style="color:#88846F;"># root.right = TreeNode(3)</span></span>
<span class="line"><span style="color:#88846F;"># root.left.left = TreeNode(4)</span></span>
<span class="line"><span style="color:#88846F;"># root.left.right = TreeNode(5)</span></span>
<span class="line"><span style="color:#88846F;"># root.right.right = TreeNode(6)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">p </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n1</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> p</span></span>
<span class="line"><span style="color:#F8F8F2;">p.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">display(n1)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>/ output</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F8F8F2;">  _1 </span></span>
<span class="line"><span style="color:#F92672;"> /</span><span style="color:#F8F8F2;">  \</span></span>
<span class="line"><span style="color:#AE81FF;"> 2</span><span style="color:#AE81FF;">  3</span></span>
<span class="line"><span style="color:#F92672;">/</span><span style="color:#F8F8F2;"> \  </span></span>
<span class="line"><span style="color:#AE81FF;">4</span><span style="color:#AE81FF;"> 5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!--]--></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>需要注意的是，插入节点可能会改变二叉树的原有逻辑结构，而删除节点通常意味着删除该节点及其所有子树。因此，在二叉树中，插入与删除通常是由一套操作配合完成的，以实现有实际意义的操作。</p></div><h2 id="_3-常见二叉树类型" tabindex="-1"><a class="header-anchor" href="#_3-常见二叉树类型"><span>3. 常见二叉树类型</span></a></h2><h3 id="_3-1-完美二叉树" tabindex="-1"><a class="header-anchor" href="#_3-1-完美二叉树"><span>3.1 完美二叉树</span></a></h3><p>完美二叉树(perfect binary tree)所有层的节点都被完全填满。在完美二叉树中，叶节点的度为0，其余所有节点的度都为2；若树的高度为h，则总节点数为<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.186ex;" xmlns="http://www.w3.org/2000/svg" width="8.182ex" height="2.117ex" role="img" focusable="false" viewBox="0 -853.7 3616.4 935.7" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(533,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g><g data-mml-node="mo" transform="translate(576,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(1354,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g><g data-mml-node="mo" transform="translate(2116.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(3116.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD"><mi>h</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container>，呈现标准的指数级关系，反映了自然界中常见的细胞分裂现象。</p><p>::: tips</p><p>请注意，在中文社区中，完美二叉树又可以称为满二叉树</p><p>:::</p><h3 id="_3-2-完全二叉树" tabindex="-1"><a class="header-anchor" href="#_3-2-完全二叉树"><span>3.2 完全二叉树</span></a></h3><p>完全二叉树（complete binary tree）只有最底层的节点未被填满，且最底层节点尽量靠左填充。</p><img src="/assets/f836df0e315d62fd3e13984f8a56eda-D4Xbig8B.jpg" alt="f836df0e315d62fd3e13984f8a56eda" style="zoom:33%;"><h3 id="_3-3-完满二叉树" tabindex="-1"><a class="header-anchor" href="#_3-3-完满二叉树"><span>3.3 完满二叉树</span></a></h3><p>完满二叉树（full binary tree）除了叶节点之外，其余所有节点都有两个子节点。</p><img src="/assets/11996f9f3adbf474c69e91208810879-Bc2n2IXo.jpg" alt="11996f9f3adbf474c69e91208810879" style="zoom:25%;"><h3 id="_3-4-平衡二叉树" tabindex="-1"><a class="header-anchor" href="#_3-4-平衡二叉树"><span>3.4 平衡二叉树</span></a></h3><p>平衡二叉树（balanced binary tree）中任意节点的左子树和右子树的高度差的绝对值不超过1。</p><img src="/assets/06a59b571390daafe4e082fe8608c12-nkVSOeLl.jpg" alt="06a59b571390daafe4e082fe8608c12" style="zoom:33%;"><h3 id="_3-5-二叉树退化" tabindex="-1"><a class="header-anchor" href="#_3-5-二叉树退化"><span>3.5 二叉树退化</span></a></h3><p>当二叉树的每层节点都被填满时，达到“完美二叉树”；当所有节点都偏向一侧时，二叉树退化为“链表”。</p><ul><li>完美二叉树是理想情况，可以充分发挥二叉树“分治”的优势。</li><li>链表则是另一个极端，所有操作都变为线性操作，时间复杂度退化至 O(n)。</li></ul><img src="/assets/56eaf3705c725e54d4666ef0f01d78a-DQLXI6bc.jpg" alt="56eaf3705c725e54d4666ef0f01d78a" style="zoom:33%;"><details class="hint-container details"><summary>详情</summary><img src="/assets/8ee88391a9bfff5c4614774a753065a-DE6sQ8bv.jpg" alt="8ee88391a9bfff5c4614774a753065a" style="zoom:33%;"><p>——chatgpt:</p><p>是的，您所上传的图片确实是一个二叉树的形式，虽然从它的结构上看更像是个“退化”的形式。通常情况下，如果二叉树的某些节点只有一个子节点（左子节点或者右子节点），而另一个子节点为空，这样的二叉树被称为“退化二叉树”（或“病态二叉树”）。这会使得树的形状接近于一条线，而不是理想的完全平衡的形状。</p><p>从图片来看，这个树的结构比较简洁，每个节点只有一个或者两个子节点，但并没有形成完全的平衡形状。如果这表示一种数据结构，通常会导致某些操作的效率下降，如查找、插入等。</p><p>如果您有更多关于二叉树结构的问题，或者需要分析具体的二叉树实现，欢迎进一步探讨。</p><p>不完全是一个退化二叉树。</p></details><div style="text-align:center;"><p>表7-1 二叉树的最佳结构和最差结构</p></div><table><thead><tr><th></th><th>完美二叉树</th><th>链表</th></tr></thead><tbody><tr><td>第 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.025ex;" xmlns="http://www.w3.org/2000/svg" width="0.781ex" height="1.52ex" role="img" focusable="false" viewBox="0 -661 345 672" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></mjx-assistive-mml></mjx-container> 层的节点数量</td><td><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="3.915ex" height="1.887ex" role="img" focusable="false" viewBox="0 -833.9 1730.6 833.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(533,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(1123,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD"><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container></td><td><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewBox="0 -666 500 666" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></mjx-assistive-mml></mjx-container></td></tr><tr><td>高度为 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.303ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 576 705" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi></math></mjx-assistive-mml></mjx-container> 的树的叶节点数量</td><td><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.24ex" height="1.932ex" role="img" focusable="false" viewBox="0 -853.7 990.3 853.7" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mi>h</mi></msup></math></mjx-assistive-mml></mjx-container></td><td><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="1.131ex" height="1.507ex" role="img" focusable="false" viewBox="0 -666 500 666" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></mjx-assistive-mml></mjx-container></td></tr><tr><td>高度为 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.303ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 576 705" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi></math></mjx-assistive-mml></mjx-container> 的树的节点总数</td><td><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.186ex;" xmlns="http://www.w3.org/2000/svg" width="8.182ex" height="2.117ex" role="img" focusable="false" viewBox="0 -853.7 3616.4 935.7" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(533,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g><g data-mml-node="mo" transform="translate(576,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(1354,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g><g data-mml-node="mo" transform="translate(2116.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(3116.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD"><mi>h</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></td><td><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.186ex;" xmlns="http://www.w3.org/2000/svg" width="5.2ex" height="1.756ex" role="img" focusable="false" viewBox="0 -694 2298.4 776" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g><g data-mml-node="mo" transform="translate(798.2,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(1798.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi><mo>+</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></td></tr><tr><td>节点总数为 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 600 453" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></mjx-assistive-mml></mjx-container> 的树的高度</td><td><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="14.791ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 6537.4 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(278,0)"></path><path data-c="67" d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" transform="translate(778,0)"></path></g><g data-mml-node="mn" transform="translate(1311,-241.4) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1714.6,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mo" transform="translate(1714.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(2103.6,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(2925.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(3926,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(4426,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(5037.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(6037.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mn>2</mn></msub><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></td><td><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.186ex;" xmlns="http://www.w3.org/2000/svg" width="5.254ex" height="1.692ex" role="img" focusable="false" viewBox="0 -666 2322.4 748" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(822.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(1822.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></td></tr></tbody></table><h2 id="_4-二叉树的遍历" tabindex="-1"><a class="header-anchor" href="#_4-二叉树的遍历"><span>4. 二叉树的遍历</span></a></h2><h3 id="_4-1-广度优先遍历-bfs" tabindex="-1"><a class="header-anchor" href="#_4-1-广度优先遍历-bfs"><span>4.1 广度优先遍历 （BFS）</span></a></h3><p>非递归：</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-295-0" aria-selected="true">引入队列的实现：</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-295-1" aria-selected="false">不用队列，但逻辑相同 (自己方法)</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-295-2" aria-selected="false">优化后</button></div><!--[--><div class="vp-code-tab active" id="codetab-295-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">引入队列的实现：</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> collections </span><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> deque</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n6 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n7 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n6</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> level_order</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    queue </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> deque()</span></span>
<span class="line"><span style="color:#F8F8F2;">    queue.append(root)</span></span>
<span class="line"><span style="color:#F8F8F2;">    res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#F92672;">    while</span><span style="color:#F8F8F2;"> queue:</span></span>
<span class="line"><span style="color:#F8F8F2;">        node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> queue.popleft()</span></span>
<span class="line"><span style="color:#F8F8F2;">        res.append(node.val)</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            queue.append(node.left)</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> node.right </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            queue.append(node.right)</span></span>
<span class="line"><span style="color:#F92672;">    return</span><span style="color:#F8F8F2;"> res</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">level_order(n1)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><div class="vp-code-tab" id="codetab-295-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">不用队列，但逻辑相同 (自己方法)</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n6 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n7 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n6</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n7</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> printtree</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    queue </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#F8F8F2;">    queue.append(root)</span></span>
<span class="line"><span style="color:#F8F8F2;">    res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#F92672;">    while</span><span style="color:#F8F8F2;"> queue:</span></span>
<span class="line"><span style="color:#F8F8F2;">        length </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;"> len</span><span style="color:#F8F8F2;">(queue)</span></span>
<span class="line"><span style="color:#F92672;">        for</span><span style="color:#F8F8F2;"> i </span><span style="color:#F92672;">in</span><span style="color:#66D9EF;"> range</span><span style="color:#F8F8F2;">(length):</span></span>
<span class="line"><span style="color:#F8F8F2;">            node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> queue[i]</span></span>
<span class="line"><span style="color:#F8F8F2;">            res.append(node.val)</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">                queue.append(node.left)</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> node.right </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">                queue.append(node.right)</span></span>
<span class="line"><span style="color:#F8F8F2;">        queue </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> queue[length:]</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#F92672;">    return</span><span style="color:#F8F8F2;"> res</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">printtree(n1)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><div class="vp-code-tab" id="codetab-295-2" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">优化后</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n6 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n7 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n6</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> level_order</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    queue </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        queue.append(root)</span></span>
<span class="line"><span style="color:#F8F8F2;">    res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">    while</span><span style="color:#F8F8F2;"> queue:</span></span>
<span class="line"><span style="color:#F8F8F2;">        node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> queue.pop(</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        res.append(node)</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            queue.append(node.left)</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> node.right </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            queue.append(node.right)</span></span>
<span class="line"><span style="color:#F92672;">    return</span><span style="color:#F8F8F2;"> res</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">level_order(n1)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><!--]--></div><p>递归方法：</p><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-309-0" aria-selected="true">自己方法</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-309-1" aria-selected="false"></button></div><!--[--><div class="vp-tab active" id="tab-309-0" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">自己方法</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n6 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n7 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n6</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n7</span></span>
<span class="line"><span style="color:#F8F8F2;">res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> level_order</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> res:</span></span>
<span class="line"><span style="color:#F8F8F2;">        res.append(root.val)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root.left:</span></span>
<span class="line"><span style="color:#F8F8F2;">        res.append(root.left.val)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        res.append(root.right.val)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root.left </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        level_order(root.left)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root.right </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        level_order(root.right)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">level_order(n1)</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(res)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><div class="vp-tab" id="tab-309-1" role="tabpanel" aria-expanded="false"><div class="vp-tab-title"></div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n6 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n7 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n6</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n7</span></span>
<span class="line"><span style="color:#F8F8F2;">res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> level_order_recursive</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root:</span></span>
<span class="line"><span style="color:#F8F8F2;">        level_helper([root], res)</span></span>
<span class="line"><span style="color:#F92672;">    return</span><span style="color:#F8F8F2;"> res</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> level_helper</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">queue</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">res</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> queue:</span></span>
<span class="line"><span style="color:#F92672;">        return</span></span>
<span class="line"><span style="color:#F8F8F2;">    node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> queue.pop(</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    res.append(node.val)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node.left:</span></span>
<span class="line"><span style="color:#F8F8F2;">        queue.append(node.left)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node.right:</span></span>
<span class="line"><span style="color:#F8F8F2;">        queue.append(node.right)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#F8F8F2;">    level_helper(queue, res)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#F8F8F2;">level_order_recursive()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><!--]--></div><h3 id="_4-2-深度优先遍历-dfs" tabindex="-1"><a class="header-anchor" href="#_4-2-深度优先遍历-dfs"><span>4.2 深度优先遍历（DFS）</span></a></h3><h4 id="_4-2-1-pre-order" tabindex="-1"><a class="header-anchor" href="#_4-2-1-pre-order"><span>4.2.1 pre order</span></a></h4><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n6 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n7 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n6</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> pre_order</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        return</span></span>
<span class="line"><span style="color:#F8F8F2;">    res.append(root.val)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root.left </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        pre_order(root.left)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root.right </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        pre_order(root.right)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">pre_order(n1)</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(res)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h4 id="_4-2-2-in-order" tabindex="-1"><a class="header-anchor" href="#_4-2-2-in-order"><span>4.2.2 In Order</span></a></h4><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n6 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n7 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n6</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> in_order</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        return</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root.left </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        in_order(root.left)</span></span>
<span class="line"><span style="color:#F8F8F2;">    res.append(root.val)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root.right </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        in_order(root.right)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">in_order(n1)</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(res)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h4 id="_4-2-3-post-order" tabindex="-1"><a class="header-anchor" href="#_4-2-3-post-order"><span>4.2.3 Post Order</span></a></h4><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> =</span><span style="color:#F8F8F2;"> val                </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right: </span><span style="color:#E6DB74;">&#39;TreeNode&#39;</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;"> # 右子节点引用</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">n1 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n2 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n3 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n4 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n5 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n6 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n7 </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n2</span></span>
<span class="line"><span style="color:#F8F8F2;">n1.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n3</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n4</span></span>
<span class="line"><span style="color:#F8F8F2;">n2.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n5</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n6</span></span>
<span class="line"><span style="color:#F8F8F2;">n3.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> n7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> post_order</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        return</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root.left </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        post_order(root.left)</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> root.right </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">        post_order(root.right)</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#F8F8F2;">    res.append(root.val)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">post_order(n1)</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(res)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="_5-二叉树的数组表示" tabindex="-1"><a class="header-anchor" href="#_5-二叉树的数组表示"><span>5. 二叉树的数组表示</span></a></h2><figure><img src="/assets/8f5218fb1b1261be094ca8f7d48398e-CestzJSR.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_5-1-用二叉树的数组表示实现-bfs-dfs" tabindex="-1"><a class="header-anchor" href="#_5-1-用二叉树的数组表示实现-bfs-dfs"><span>5.1 用二叉树的数组表示实现 BFS DFS</span></a></h3><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">ArrayBinaryTree</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;数组表示下的二叉树类&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">arr</span><span style="color:#F8F8F2;">: list[</span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">]):</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;构造方法&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">._tree </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;font-style:italic;"> list</span><span style="color:#F8F8F2;">(arr)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> size</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;列表容量&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#66D9EF;"> len</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">._tree)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> val</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">i</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">) -&gt; </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;获取索引为 i 节点的值&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> i </span><span style="color:#F92672;">&lt;</span><span style="color:#AE81FF;"> 0</span><span style="color:#F92672;"> or</span><span style="color:#F8F8F2;"> i </span><span style="color:#F92672;">&gt;=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.size():</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">._tree[i]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> left</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">i</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">) -&gt; </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;获取左子节点的索引&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#AE81FF;"> 2</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> i </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> right</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">i</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">) -&gt; </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;获取右子节点的索引&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#AE81FF;"> 2</span><span style="color:#F92672;"> *</span><span style="color:#F8F8F2;"> i </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> parent</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">i</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">) -&gt; </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F92672;"> |</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;获取父节点的索引&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> (i </span><span style="color:#F92672;">-</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">//</span><span style="color:#AE81FF;"> 2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> level_order</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">) -&gt; list[</span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">]:</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;层序遍历&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#88846F;">        # 直接遍历数组</span></span>
<span class="line"><span style="color:#F92672;">        for</span><span style="color:#F8F8F2;"> i </span><span style="color:#F92672;">in</span><span style="color:#66D9EF;"> range</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.size()):</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.val(i) </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#FD971F;">                self</span><span style="color:#F8F8F2;">.res.append(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.val(i))</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.res</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> dfs</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">i</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">order</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">str</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;深度优先遍历&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.val(i) </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span></span>
<span class="line"><span style="color:#88846F;">        # 前序遍历</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> order </span><span style="color:#F92672;">==</span><span style="color:#E6DB74;"> &quot;pre&quot;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">.res.append(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.val(i))</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.dfs(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.left(i), order)</span></span>
<span class="line"><span style="color:#88846F;">        # 中序遍历</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> order </span><span style="color:#F92672;">==</span><span style="color:#E6DB74;"> &quot;in&quot;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">.res.append(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.val(i))</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.dfs(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.right(i), order)</span></span>
<span class="line"><span style="color:#88846F;">        # 后序遍历</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> order </span><span style="color:#F92672;">==</span><span style="color:#E6DB74;"> &quot;post&quot;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">.res.append(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.val(i))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> pre_order</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">) -&gt; list[</span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">]:</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;前序遍历&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.dfs(</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">order</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;pre&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.res</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> in_order</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">) -&gt; list[</span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">]:</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;中序遍历&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.dfs(</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">order</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;in&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.res</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> post_order</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">) -&gt; list[</span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">]:</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;后序遍历&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> []</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.dfs(</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">order</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;post&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.res</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>测试代码：</p><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#E6DB74;">&quot;&quot;&quot;Driver Code&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> __name__ </span><span style="color:#F92672;">==</span><span style="color:#E6DB74;"> &quot;__main__&quot;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">    # 初始化二叉树</span></span>
<span class="line"><span style="color:#F8F8F2;">    arr </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> [</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">None</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">None</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#F8F8F2;">    abt </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> ArrayBinaryTree(arr)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 访问节点</span></span>
<span class="line"><span style="color:#F8F8F2;">    i </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 1</span></span>
<span class="line"><span style="color:#F8F8F2;">    l, r, p </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> abt.left(i), abt.right(i), abt.parent(i)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 遍历树</span></span>
<span class="line"><span style="color:#F8F8F2;">    res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> abt.level_order()</span></span>
<span class="line"><span style="color:#F8F8F2;">    res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> abt.pre_order()</span></span>
<span class="line"><span style="color:#F8F8F2;">    res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> abt.in_order()</span></span>
<span class="line"><span style="color:#F8F8F2;">    res </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> abt.post_order()</span></span>
<span class="line"><span style="color:#66D9EF;">    print</span><span style="color:#F8F8F2;">(res)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="_6-二叉搜索树-bst" tabindex="-1"><a class="header-anchor" href="#_6-二叉搜索树-bst"><span>6. 二叉搜索树（BST）</span></a></h2><ul><li><p>对于根节点，左子树中所有的值 &lt; 根节点 &lt; 右子树中所有的值</p></li><li><p>任意节点的左右子树也是二叉搜索树，同样满足条件1.</p></li><li><p>我们将二叉搜索树封装为一个类 <code>BinarySearchTree</code> ，并声明一个成员变量 root，指向树的根结点。</p></li></ul><h3 id="_6-0-补充知识点——类" tabindex="-1"><a class="header-anchor" href="#_6-0-补充知识点——类"><span>6.0 补充知识点——类</span></a></h3><h4 id="_6-0-1-类的实例化" tabindex="-1"><a class="header-anchor" href="#_6-0-1-类的实例化"><span>6.0.1 类的实例化：</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">Animal</span><span style="color:#F8F8F2;">():</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):  </span><span style="color:#88846F;"># 初始化函数，可有可没有</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Animal created&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">dog </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> Animal()  </span><span style="color:#88846F;"># 实例化</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-0-2-类的函数调用初始化函数的变量" tabindex="-1"><a class="header-anchor" href="#_6-0-2-类的函数调用初始化函数的变量"><span>6.0.2 类的函数调用初始化函数的变量：</span></a></h4><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-376-0" aria-selected="true">报错的情况</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-376-1" aria-selected="false">用 self 来实现类中不同函数变量的调用</button></div><!--[--><div class="vp-code-tab active" id="codetab-376-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">报错的情况</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">Animal</span><span style="color:#F8F8F2;">():</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):  </span><span style="color:#88846F;"># 初始化函数，可有可没有</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Animal created&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">        a </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 100</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(a)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">dog </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> Animal()  </span><span style="color:#88846F;"># 实例化</span></span>
<span class="line"><span style="color:#F8F8F2;">dog.print()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># output</span></span>
<span class="line"><span style="color:#F8F8F2;">Animal created</span></span>
<span class="line"><span style="color:#F8F8F2;">Traceback (most recent call last):</span></span>
<span class="line"><span style="color:#F8F8F2;">  File </span><span style="color:#E6DB74;">&quot;C:\Coder\Lesson\d.py&quot;</span><span style="color:#F8F8F2;">, line </span><span style="color:#AE81FF;">11</span><span style="color:#F8F8F2;">, </span><span style="color:#F92672;">in</span><span style="color:#F92672;"> &lt;</span><span style="color:#F8F8F2;">module</span><span style="color:#F92672;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    dog.print()</span></span>
<span class="line"><span style="color:#F8F8F2;">  File </span><span style="color:#E6DB74;">&quot;C:\Coder\Lesson\d.py&quot;</span><span style="color:#F8F8F2;">, line </span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">, </span><span style="color:#F92672;">in</span><span style="color:#66D9EF;"> print</span></span>
<span class="line"><span style="color:#66D9EF;">    print</span><span style="color:#F8F8F2;">(a)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">NameError</span><span style="color:#F8F8F2;">: name </span><span style="color:#E6DB74;">&#39;a&#39;</span><span style="color:#F92672;"> is</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> defined</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><div class="vp-code-tab" id="codetab-376-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">用 self 来实现类中不同函数变量的调用</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">Animal</span><span style="color:#F8F8F2;">():</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):  </span><span style="color:#88846F;"># 初始化函数，可有可没有</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Animal created&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.a </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 100</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.a)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">dog </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> Animal()  </span><span style="color:#88846F;"># 实例化</span></span>
<span class="line"><span style="color:#F8F8F2;">dog.print()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># output </span></span>
<span class="line"><span style="color:#F8F8F2;">Animal created</span></span>
<span class="line"><span style="color:#AE81FF;">100</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><!--]--></div><h4 id="_6-0-2-函数互相之间调用变量" tabindex="-1"><a class="header-anchor" href="#_6-0-2-函数互相之间调用变量"><span>6.0.2 函数互相之间调用变量</span></a></h4><div class="vp-tabs"><div class="vp-tabs-nav" role="tablist"><button type="button" class="vp-tab-nav active" role="tab" aria-controls="tab-390-0" aria-selected="true">那一个函数若是想要调用非初始化函数中的变量呢？</button><button type="button" class="vp-tab-nav" role="tab" aria-controls="tab-390-1" aria-selected="false"></button></div><!--[--><div class="vp-tab active" id="tab-390-0" role="tabpanel" aria-expanded="true"><div class="vp-tab-title">那一个函数若是想要调用非初始化函数中的变量呢？</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">Animal</span><span style="color:#F8F8F2;">():</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):  </span><span style="color:#88846F;"># 初始化函数，可有可没有</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Animal created&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.a </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 1000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">text</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.bo </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &quot;Shelley&quot;</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(text)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> add_sum</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.bo)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">dog </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> Animal()  </span><span style="color:#88846F;"># 实例化</span></span>
<span class="line"><span style="color:#F8F8F2;">dog.add_sum()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># output</span></span>
<span class="line"><span style="color:#F8F8F2;">Animal created</span></span>
<span class="line"><span style="color:#F8F8F2;">Traceback (most recent call last):</span></span>
<span class="line"><span style="color:#F8F8F2;">  File </span><span style="color:#E6DB74;">&quot;C:\Coder\Lesson\d.py&quot;</span><span style="color:#F8F8F2;">, line </span><span style="color:#AE81FF;">15</span><span style="color:#F8F8F2;">, </span><span style="color:#F92672;">in</span><span style="color:#F92672;"> &lt;</span><span style="color:#F8F8F2;">module</span><span style="color:#F92672;">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2;">    dog.add_sum()</span></span>
<span class="line"><span style="color:#F8F8F2;">  File </span><span style="color:#E6DB74;">&quot;C:\Coder\Lesson\d.py&quot;</span><span style="color:#F8F8F2;">, line </span><span style="color:#AE81FF;">11</span><span style="color:#F8F8F2;">, </span><span style="color:#F92672;">in</span><span style="color:#F8F8F2;"> add_sum</span></span>
<span class="line"><span style="color:#66D9EF;">    print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.bo)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">AttributeError</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;Animal&#39;</span><span style="color:#66D9EF;font-style:italic;"> object</span><span style="color:#F8F8F2;"> has no attribute </span><span style="color:#E6DB74;">&#39;bo&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>报错了！因为我们没有调用 <code>self.bo</code> 被定义的函数 <code>print</code>，我们调用 <code>print</code> 之后再调用 <code>add_sum</code>试试。</p><p></p><!--]--></div><div class="vp-tab" id="tab-390-1" role="tabpanel" aria-expanded="false"><div class="vp-tab-title"></div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">Animal</span><span style="color:#F8F8F2;">():</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):  </span><span style="color:#88846F;"># 初始化函数，可有可没有</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Animal created&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.a </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 1000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">text</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.bo </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &quot;Shelley&quot;</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(text)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> add_sum</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.bo)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">dog </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> Animal()  </span><span style="color:#88846F;"># 实例化</span></span>
<span class="line"><span style="color:#F8F8F2;">dog.print(</span><span style="color:#FD971F;font-style:italic;">text</span><span style="color:#F92672;"> =</span><span style="color:#E6DB74;"> &quot;dog&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">dog.add_sum()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># output</span></span>
<span class="line"><span style="color:#F8F8F2;">Animal created</span></span>
<span class="line"><span style="color:#F8F8F2;">dog</span></span>
<span class="line"><span style="color:#F8F8F2;">Shelley</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p></p><!--]--></div><!--]--></div><h4 id="_6-0-3-类的实例化调用类中变量" tabindex="-1"><a class="header-anchor" href="#_6-0-3-类的实例化调用类中变量"><span>6.0.3 类的实例化调用类中变量</span></a></h4><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-410-0" aria-selected="true">通过 self 可以调用任意类中变量</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-410-1" aria-selected="false">但是只能调用在初始函数里初始过得变量！</button></div><!--[--><div class="vp-code-tab active" id="codetab-410-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">通过 self 可以调用任意类中变量</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">Animal</span><span style="color:#F8F8F2;">():</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):  </span><span style="color:#88846F;"># 初始化函数，可有可没有</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Animal created&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.a </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 1000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.a)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">dog </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> Animal()  </span><span style="color:#88846F;"># 实例化</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(dog.a)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># output</span></span>
<span class="line"><span style="color:#F8F8F2;">Animal created</span></span>
<span class="line"><span style="color:#AE81FF;">1000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><div class="vp-code-tab" id="codetab-410-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">但是只能调用在初始函数里初始过得变量！</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">Animal</span><span style="color:#F8F8F2;">():</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):  </span><span style="color:#88846F;"># 初始化函数，可有可没有</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Animal created&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.a </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 1000</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.a)</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.b </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 1</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">dog </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> Animal()  </span><span style="color:#88846F;"># 实例化</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(dog.a)</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(dog.b)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># output</span></span>
<span class="line"><span style="color:#F8F8F2;">Traceback (most recent call last):</span></span>
<span class="line"><span style="color:#F8F8F2;">  File </span><span style="color:#E6DB74;">&quot;C:\Coder\Lesson\d.py&quot;</span><span style="color:#F8F8F2;">, line </span><span style="color:#AE81FF;">13</span><span style="color:#F8F8F2;">, </span><span style="color:#F92672;">in</span><span style="color:#F92672;"> &lt;</span><span style="color:#F8F8F2;">module</span><span style="color:#F92672;">&gt;</span></span>
<span class="line"><span style="color:#66D9EF;">    print</span><span style="color:#F8F8F2;">(dog.b)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">AttributeError</span><span style="color:#F8F8F2;">: </span><span style="color:#E6DB74;">&#39;Animal&#39;</span><span style="color:#66D9EF;font-style:italic;"> object</span><span style="color:#F8F8F2;"> has no attribute </span><span style="color:#E6DB74;">&#39;b&#39;</span></span>
<span class="line"><span style="color:#F8F8F2;">Animal created</span></span>
<span class="line"><span style="color:#AE81FF;">1000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><!--]--></div><h3 id="_6-1-查找节点" tabindex="-1"><a class="header-anchor" href="#_6-1-查找节点"><span>6.1 查找节点</span></a></h3><ul><li><p>给定目标节点值 <code>num</code>，可以根据二叉搜索树的性质来查找。</p></li><li><p>我们声明一个节点 <code>cur</code>，从二叉树的根节点 root 出发。</p><ul><li>若 <code>cur.val &lt; num</code> ，说明目标节点在 cur 的右子树中，因此执行 <code>cur = cur.right</code></li><li>若 <code>cur.val &gt; num</code> ，说明目标节点在 cur 的左子树中，因此执行 <code>cur = cur.left</code></li><li>若 <code>cur.val = num</code> ，说明目标节点就是 <code>num</code></li></ul></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-456-0" aria-selected="true">递归实现</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-456-1" aria-selected="false">循环实现</button></div><!--[--><div class="vp-code-tab active" id="codetab-456-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">递归实现</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">BST</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.root </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> search</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> root.val:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.search(root.left, val)</span></span>
<span class="line"><span style="color:#F92672;">        elif</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> root.val:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.search(root.right, val)</span></span>
<span class="line"><span style="color:#F92672;">        else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> root  </span><span style="color:#88846F;"># 这里是返回了该节点的地址，而不是值</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> __name__ </span><span style="color:#F92672;">==</span><span style="color:#E6DB74;"> &#39;__main__&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">    # 手动创建二叉搜索树</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> BST()</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.left.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.left.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.right.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.right.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 测试查找节点</span></span>
<span class="line"><span style="color:#F8F8F2;">    node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> bst.search(bst.root, </span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;font-style:italic;">f</span><span style="color:#E6DB74;">&quot;找到了节点，值为: </span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">node.val</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;">&quot;</span><span style="color:#F8F8F2;">) </span><span style="color:#88846F;"># 打印该节点的值</span></span>
<span class="line"><span style="color:#F92672;">    else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;未找到节点&quot;</span><span style="color:#F8F8F2;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><div class="vp-code-tab" id="codetab-456-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">循环实现</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">BST</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">._root </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> search</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">,</span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        cur </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">._root</span></span>
<span class="line"><span style="color:#F92672;">        while</span><span style="color:#F8F8F2;"> cur:</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> cur.val </span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> val:</span></span>
<span class="line"><span style="color:#F8F8F2;">                cur </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur.left</span></span>
<span class="line"><span style="color:#F92672;">            elif</span><span style="color:#F8F8F2;"> cur.val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> val:</span></span>
<span class="line"><span style="color:#F8F8F2;">                cur </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur.right</span></span>
<span class="line"><span style="color:#F92672;">            else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                break</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> cur</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> __name__ </span><span style="color:#F92672;">==</span><span style="color:#E6DB74;"> &#39;__main__&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">    # 手动创建二叉搜索树</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> BST()</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.left.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.left.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.right.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root.right.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 测试查找节点</span></span>
<span class="line"><span style="color:#F8F8F2;">    node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> bst.search(bst.root, </span><span style="color:#AE81FF;">9</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;font-style:italic;">f</span><span style="color:#E6DB74;">&quot;找到了节点，值为: </span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">node.val</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;">&quot;</span><span style="color:#F8F8F2;">) </span><span style="color:#88846F;"># 打印该节点的值</span></span>
<span class="line"><span style="color:#F92672;">    else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;未找到节点&quot;</span><span style="color:#F8F8F2;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><!--]--></div><h3 id="_6-2-插入节点" tabindex="-1"><a class="header-anchor" href="#_6-2-插入节点"><span>6.2 插入节点</span></a></h3><ol><li><p>给定一个待插入元素 <code>num</code> ，为了保持二叉搜索树“左子树 &lt; 根节点 &lt; 右子树”的性质：</p></li><li><p>查找插入位置：与查找操作相似，从根节点出发，根据当前节点值和 <code>num</code> 的大小关系循环向下搜索，直到越过叶节点（遍历至 None ）时跳出循环。</p></li><li><p>在该位置插入节点：初始化节点 <code>num</code> ，将该节点置于 None 的位置。</p></li></ol><div class="hint-container warning"><p class="hint-container-title">注意</p><p>在代码实现中，需要注意以下两点。</p><p>二叉搜索树不允许存在重复节点，否则将违反其定义。因此，若待插入节点在树中已存在，则不执行插入，直接返回。<br> 为了实现插入节点，我们需要借助节点 <code>pre</code> 保存上一轮循环的节点。这样在遍历至 None 时，我们可以获取到其父节点，从而完成节点插入操作。</p></div><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-492-0" aria-selected="true">递归实现</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-492-1" aria-selected="false">循环实现</button></div><!--[--><div class="vp-code-tab active" id="codetab-492-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">递归实现</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">BST</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.root </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> search</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> root.val:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.search(root.left, val)</span></span>
<span class="line"><span style="color:#F92672;">        elif</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> root.val:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.search(root.right, val)</span></span>
<span class="line"><span style="color:#F92672;">        else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> root  </span><span style="color:#88846F;"># 这里是返回了该节点的地址，而不是值</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> insert</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">num</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> TreeNode(num)</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> num </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> root.val:</span></span>
<span class="line"><span style="color:#F8F8F2;">            root.left </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.insert(root.left, num) </span><span style="color:#88846F;"># 二叉树找寻路径：根-&gt;左-&gt;右....</span></span>
<span class="line"><span style="color:#F92672;">        elif</span><span style="color:#F8F8F2;"> num </span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> root.val:</span></span>
<span class="line"><span style="color:#F8F8F2;">            root.right </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.insert(root.right, num)   </span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> root  </span><span style="color:#88846F;"># 返回原二叉树</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> __name__ </span><span style="color:#F92672;">==</span><span style="color:#E6DB74;"> &#39;__main__&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> BST()</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> bst.insert(bst.root,</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(bst.root, </span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(bst.root, </span><span style="color:#AE81FF;">9</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(bst.root, </span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(bst.root, </span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(bst.root, </span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 测试查找节点</span></span>
<span class="line"><span style="color:#F8F8F2;">    node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> bst.search(bst.root, </span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;font-style:italic;">f</span><span style="color:#E6DB74;">&quot;找到了节点，值为: </span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">node.val</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;">&quot;</span><span style="color:#F8F8F2;">) </span><span style="color:#88846F;"># 打印该节点的值</span></span>
<span class="line"><span style="color:#F92672;">    else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;未找到节点&quot;</span><span style="color:#F8F8F2;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><div class="vp-code-tab" id="codetab-492-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">循环实现</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">BST</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">._root </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> search</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        cur </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">._root</span></span>
<span class="line"><span style="color:#F92672;">        while</span><span style="color:#F8F8F2;"> cur:</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> cur.val </span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> val:</span></span>
<span class="line"><span style="color:#F8F8F2;">                cur </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur.left</span></span>
<span class="line"><span style="color:#F92672;">            elif</span><span style="color:#F8F8F2;"> cur.val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> val:</span></span>
<span class="line"><span style="color:#F8F8F2;">                cur </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur.right</span></span>
<span class="line"><span style="color:#F92672;">            else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                break</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> cur</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> insert</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">num</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">._root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">._root </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(num)</span></span>
<span class="line"><span style="color:#F92672;">            return</span></span>
<span class="line"><span style="color:#F8F8F2;">        cur, pre </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">._root, </span><span style="color:#AE81FF;">None</span></span>
<span class="line"><span style="color:#F92672;">        while</span><span style="color:#F8F8F2;"> cur </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">            # 找到重复节点，直接返回</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> cur.val </span><span style="color:#F92672;">==</span><span style="color:#F8F8F2;"> num:</span></span>
<span class="line"><span style="color:#F92672;">                return</span></span>
<span class="line"><span style="color:#F8F8F2;">            pre </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur</span></span>
<span class="line"><span style="color:#88846F;">            # 查找到需要插入的位置</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> cur.val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> num:</span></span>
<span class="line"><span style="color:#F8F8F2;">                cur </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur.right</span></span>
<span class="line"><span style="color:#F92672;">            else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">                cur </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur.left</span></span>
<span class="line"><span style="color:#88846F;">        # 插入节点</span></span>
<span class="line"><span style="color:#F8F8F2;">        node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> TreeNode(num)</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> pre.val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> num:</span></span>
<span class="line"><span style="color:#F8F8F2;">            pre.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node</span></span>
<span class="line"><span style="color:#F92672;">        else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            pre.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> __name__ </span><span style="color:#F92672;">==</span><span style="color:#E6DB74;"> &#39;__main__&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> BST()</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(</span><span style="color:#AE81FF;">9</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 测试查找节点</span></span>
<span class="line"><span style="color:#F8F8F2;">    node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> bst.search(</span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;font-style:italic;">f</span><span style="color:#E6DB74;">&quot;找到了节点，值为: </span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">node.val</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;">&quot;</span><span style="color:#F8F8F2;">)  </span><span style="color:#88846F;"># 打印该节点的值</span></span>
<span class="line"><span style="color:#F92672;">    else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;未找到节点&quot;</span><span style="color:#F8F8F2;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><!--]--></div><h3 id="_6-3-删除节点" tabindex="-1"><a class="header-anchor" href="#_6-3-删除节点"><span>6.3 删除节点</span></a></h3><p>先在二叉树中查找到目标节点，再将其删除。与插入节点类似，我们需要保证在删除操作完成后，二叉搜索树的“左子树 &lt; 根节点 &lt; 右子树”的性质仍然满足。因此，我们根据目标节点的子节点数量，分 0、1 和 2 三种情况，执行对应的删除节点操作。</p><p>当待删除节点的度为 0 时，表示该节点是叶节点，可以直接删除。</p><img src="/assets/7748085f65164c5deb5f865c920d51f-uxQOrWDs.png" alt="7748085f65164c5deb5f865c920d51f" style="zoom:67%;"><p>当待删除节点的度为 1 时，将待删除节点替换为其子节点即可。</p><p>当待删除节点的度为 2 时，我们无法直接删除它，而需要使用一个节点替换该节点。由于要保持二叉搜索树“左子树 &lt; 根节点 &lt; 右子树”的性质，因此这个节点可以是右子树的最小节点或左子树的最大节点。</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-516-0" aria-selected="true">递归</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-516-1" aria-selected="false">循环</button></div><!--[--><div class="vp-code-tab active" id="codetab-516-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">递归</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;二叉树节点类&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">BST</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.root </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> search</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> root.val:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.search(root.left, val)</span></span>
<span class="line"><span style="color:#F92672;">        elif</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> root.val:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.search(root.right, val)</span></span>
<span class="line"><span style="color:#F92672;">        else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> root  </span><span style="color:#88846F;"># 这里是返回了该节点的地址，而不是值</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> insert</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">num</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> TreeNode(num)</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> num </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> root.val:</span></span>
<span class="line"><span style="color:#F8F8F2;">            root.left </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.insert(root.left, num)</span></span>
<span class="line"><span style="color:#F92672;">        elif</span><span style="color:#F8F8F2;"> num </span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> root.val:</span></span>
<span class="line"><span style="color:#F8F8F2;">            root.right </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.insert(root.right, num)</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> root</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> delete</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">key</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> root</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> root.val </span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> key:</span></span>
<span class="line"><span style="color:#F8F8F2;">            root.left </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.delete(root.left, key)</span></span>
<span class="line"><span style="color:#F92672;">        elif</span><span style="color:#F8F8F2;"> root.val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> key:</span></span>
<span class="line"><span style="color:#F8F8F2;">            root.right </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.delete(root.right, key)</span></span>
<span class="line"><span style="color:#F92672;">        else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> root.left </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> and</span><span style="color:#F8F8F2;"> root.right </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#F92672;">            elif</span><span style="color:#F8F8F2;"> root.left </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#F8F8F2;"> root.right</span></span>
<span class="line"><span style="color:#F92672;">            elif</span><span style="color:#F8F8F2;"> root.right </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#F8F8F2;"> root.left</span></span>
<span class="line"><span style="color:#F92672;">            else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">                &quot;&quot;&quot;找到右子树最小节点&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">                min_larger_root </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.find_min(root.right)</span></span>
<span class="line"><span style="color:#F8F8F2;">                root.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> min_larger_root.val</span></span>
<span class="line"><span style="color:#F8F8F2;">                root.right </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.delete(root.right, min_larger_root.val)</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> root</span></span>
<span class="line"><span style="color:#88846F;">                # store = root.right</span></span>
<span class="line"><span style="color:#88846F;">                # while store.left is not None:</span></span>
<span class="line"><span style="color:#88846F;">                #     store = store.left</span></span>
<span class="line"><span style="color:#88846F;">                # store.left = root.left</span></span>
<span class="line"><span style="color:#88846F;">                # store.right = root.right</span></span>
<span class="line"><span style="color:#88846F;">                # return store</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> find_min</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">root</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">        current </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> root</span></span>
<span class="line"><span style="color:#F92672;">        while</span><span style="color:#F8F8F2;"> current </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            current </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> current.left</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> current</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> __name__ </span><span style="color:#F92672;">==</span><span style="color:#E6DB74;"> &#39;__main__&#39;</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> BST()</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.root </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> bst.insert(bst.root,</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(bst.root, </span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(bst.root, </span><span style="color:#AE81FF;">9</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(bst.root, </span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(bst.root, </span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    bst.insert(bst.root, </span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    bst.delete(bst.root, </span><span style="color:#AE81FF;">7</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 测试查找节点</span></span>
<span class="line"><span style="color:#F8F8F2;">    node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> bst.search(bst.root, </span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;font-style:italic;">f</span><span style="color:#E6DB74;">&quot;找到了节点，值为: </span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">node.val</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;">&quot;</span><span style="color:#F8F8F2;">) </span><span style="color:#88846F;"># 打印该节点的值</span></span>
<span class="line"><span style="color:#F92672;">    else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;">        print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;未找到节点&quot;</span><span style="color:#F8F8F2;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><div class="vp-code-tab" id="codetab-516-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">循环</div><!--[--><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> remove</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">num</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;删除节点&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#88846F;">    # 若树为空，直接提前返回</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">._root </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        return</span></span>
<span class="line"><span style="color:#88846F;">    # 循环查找，越过叶节点后跳出</span></span>
<span class="line"><span style="color:#F8F8F2;">    cur, pre </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">._root, </span><span style="color:#AE81FF;">None</span></span>
<span class="line"><span style="color:#F92672;">    while</span><span style="color:#F8F8F2;"> cur </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">        # 找到待删除节点，跳出循环</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> cur.val </span><span style="color:#F92672;">==</span><span style="color:#F8F8F2;"> num:</span></span>
<span class="line"><span style="color:#F92672;">            break</span></span>
<span class="line"><span style="color:#F8F8F2;">        pre </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur</span></span>
<span class="line"><span style="color:#88846F;">        # 待删除节点在 cur 的右子树中</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> cur.val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> num:</span></span>
<span class="line"><span style="color:#F8F8F2;">            cur </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur.right</span></span>
<span class="line"><span style="color:#88846F;">        # 待删除节点在 cur 的左子树中</span></span>
<span class="line"><span style="color:#F92672;">        else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            cur </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur.left</span></span>
<span class="line"><span style="color:#88846F;">    # 若无待删除节点，则直接返回</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> cur </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        return</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 子节点数量 = 0 or 1</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> cur.left </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> or</span><span style="color:#F8F8F2;"> cur.right </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">        # 当子节点数量 = 0 / 1 时， child = null / 该子节点</span></span>
<span class="line"><span style="color:#F8F8F2;">        child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur.left </span><span style="color:#F92672;">or</span><span style="color:#F8F8F2;"> cur.right</span></span>
<span class="line"><span style="color:#88846F;">        # 删除节点 cur</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> cur </span><span style="color:#F92672;">!=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">._root:</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> pre.left </span><span style="color:#F92672;">==</span><span style="color:#F8F8F2;"> cur:</span></span>
<span class="line"><span style="color:#F8F8F2;">                pre.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> child</span></span>
<span class="line"><span style="color:#F92672;">            else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">                pre.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> child</span></span>
<span class="line"><span style="color:#F92672;">        else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">            # 若删除节点为根节点，则重新指定根节点</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">._root </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> child</span></span>
<span class="line"><span style="color:#88846F;">    # 子节点数量 = 2</span></span>
<span class="line"><span style="color:#F92672;">    else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">        # 获取中序遍历中 cur 的下一个节点</span></span>
<span class="line"><span style="color:#F8F8F2;">        tmp: TreeNode </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> cur.right</span></span>
<span class="line"><span style="color:#F92672;">        while</span><span style="color:#F8F8F2;"> tmp.left </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            tmp </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> tmp.left</span></span>
<span class="line"><span style="color:#88846F;">        # 递归删除节点 tmp</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.remove(tmp.val)</span></span>
<span class="line"><span style="color:#88846F;">        # 用 tmp 覆盖 cur</span></span>
<span class="line"><span style="color:#F8F8F2;">        cur.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> tmp.val</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><!--]--></div><!--]--></div><h3 id="_6-4-补充内容" tabindex="-1"><a class="header-anchor" href="#_6-4-补充内容"><span>6.4 补充内容</span></a></h3><h4 id="_6-4-1-中序遍历有序" tabindex="-1"><a class="header-anchor" href="#_6-4-1-中序遍历有序"><span>6.4.1 中序遍历有序</span></a></h4><p>如图 7-22 所示，二叉树的中序遍历遵循“左 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container> 根 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container> 右”的遍历顺序，而二叉搜索树满足“左子节点 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.09ex;" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="3C" d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&lt;</mo></math></mjx-assistive-mml></mjx-container> 根节点 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.09ex;" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.312ex" role="img" focusable="false" viewBox="0 -540 778 580" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="3C" d="M694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>&lt;</mo></math></mjx-assistive-mml></mjx-container> 右子节点”的大小关系。</p><p>这意味着在二叉搜索树中进行中序遍历时，总是会优先遍历下一个最小节点，从而得出一个重要性质：<strong>二叉搜索树的中序遍历序列是升序的</strong>。</p><p>利用中序遍历升序的性质，我们在二叉搜索树中获取有序数据仅需 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.844ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2141 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1752,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container> 时间，无须进行额外的排序操作，非常高效。</p><img src="/assets/904f7f53686d6f50eae19e9b21b10b1-BJGRSIVD.png" alt="904f7f53686d6f50eae19e9b21b10b1" style="zoom:33%;"><h4 id="_6-4-2-二叉搜索树的效率" tabindex="-1"><a class="header-anchor" href="#_6-4-2-二叉搜索树的效率"><span>6.4.2 二叉搜索树的效率</span></a></h4><p>给定一组数据，我们考虑使用数组或二叉搜索树存储。观察表 7-2 ，二叉搜索树的各项操作的时间复杂度都是对数阶，具有稳定且高效的性能。只有在高频添加、低频查找删除数据的场景下，数组比二叉搜索树的效率更高。</p><div style="text-align:center;"><p>表 7-2 数组与搜索树的效率对比</p></div><table><thead><tr><th style="text-align:left;"></th><th style="text-align:left;">无序数组</th><th style="text-align:left;">二叉搜索树</th></tr></thead><tbody><tr><td style="text-align:left;">查找元素</td><td style="text-align:left;"><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.844ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2141 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1752,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></td><td style="text-align:left;"><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="7.695ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3401 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(1450,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(1935,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(2412,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3012,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></td></tr><tr><td style="text-align:left;">插入元素</td><td style="text-align:left;"><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.618ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2041 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mn" transform="translate(1152,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(1652,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></td><td style="text-align:left;"><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="7.695ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3401 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(1450,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(1935,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(2412,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3012,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></td></tr><tr><td style="text-align:left;">删除元素</td><td style="text-align:left;"><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.844ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2141 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1752,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></td><td style="text-align:left;"><mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="7.695ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3401 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(1450,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(1935,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(2412,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3012,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></td></tr></tbody></table><p>在理想情况下，二叉搜索树是“平衡”的，这样就可以在 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.464ex;" xmlns="http://www.w3.org/2000/svg" width="4.208ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 1860 899" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(298,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(783,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(1260,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi></math></mjx-assistive-mml></mjx-container> 轮循环内查找任意节点。</p><p>然而，如果我们在二叉搜索树中不断地插入和删除节点，可能导致二叉树退化为图 7-23 所示的链表，这时各种操作的时间复杂度也会退化为 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.844ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2141 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1752,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container> 。</p><img src="/assets/cc07789286479fa756a58bf6380a830-hO9oNgcX.png" alt="cc07789286479fa756a58bf6380a830" style="zoom:33%;"><h3 id="_6-5-二叉树的常见应用" tabindex="-1"><a class="header-anchor" href="#_6-5-二叉树的常见应用"><span>6.5 二叉树的常见应用</span></a></h3><ul><li>用作系统中的多级索引，实现高效的查找，插入，删除等操作</li><li>作为某些搜索算法的底层数据结构</li><li>用于存储数据流，以保持其有序状态</li></ul><h2 id="_7-二叉树的时间复杂度" tabindex="-1"><a class="header-anchor" href="#_7-二叉树的时间复杂度"><span>7. 二叉树的时间复杂度</span></a></h2><ol><li><strong>什么是二叉树？</strong></li></ol><p>二叉树是一个树形结构，其中每个节点最多有两个子节点：一个左子节点和一个右子节点。一个常见的例子是<strong>二叉搜索树</strong>，它的性质是：对于每个节点，左子树的所有节点值都小于这个节点的值，右子树的所有节点值都大于这个节点的值。</p><ol start="2"><li><strong>树的高度是什么？</strong></li></ol><p>树的<strong>高度</strong>指的是从根节点到最深的叶子节点的路径长度。比如：</p><ul><li>如果一个二叉树只有一个节点，树的高度是 0。</li><li>如果一个二叉树有两个节点，根节点和一个叶子节点，那么树的高度是 1。</li></ul><p>在一个理想的平衡二叉树中，如果有 <code>n</code> 个节点，那么树的高度大约是 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.112ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3585.7 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(278,0)"></path><path data-c="67" d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" transform="translate(778,0)"></path></g><g data-mml-node="mo" transform="translate(2430,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(2596.7,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3196.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container>，这是因为每一层的节点数是前一层的两倍。</p><ol start="3"><li><strong>为什么是 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.112ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3585.7 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(278,0)"></path><path data-c="67" d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" transform="translate(778,0)"></path></g><g data-mml-node="mo" transform="translate(2430,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(2596.7,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3196.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container>？</strong></li></ol><p>假设你有一棵平衡的二叉树，并且它的高度为 <code>h</code>，那么这棵树最多可以容纳的节点数是 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.186ex;" xmlns="http://www.w3.org/2000/svg" width="6.137ex" height="2.117ex" role="img" focusable="false" viewBox="0 -853.7 2712.7 935.7" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g><g data-mml-node="mo" transform="translate(1212.5,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(2212.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mi>h</mi></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container> 个。也就是说：</p><ul><li>高度为 1 时，最多有 1 个节点（<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.186ex;" xmlns="http://www.w3.org/2000/svg" width="10.164ex" height="2.072ex" role="img" focusable="false" viewBox="0 -833.9 4492.6 915.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(1158.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(2159,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(2936.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(3992.6,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>1</mn></msup><mo>−</mo><mn>1</mn><mo>=</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container>）</li><li>高度为 2 时，最多有 3 个节点（<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.186ex;" xmlns="http://www.w3.org/2000/svg" width="10.164ex" height="2.072ex" role="img" focusable="false" viewBox="0 -833.9 4492.6 915.9" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1158.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(2159,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(2936.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(3992.6,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>2</mn></msup><mo>−</mo><mn>1</mn><mo>=</mo><mn>3</mn></math></mjx-assistive-mml></mjx-container>）</li><li>高度为 3 时，最多有 7 个节点（<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.186ex;" xmlns="http://www.w3.org/2000/svg" width="10.164ex" height="2.071ex" role="img" focusable="false" viewBox="0 -833.2 4492.6 915.2" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mn" transform="translate(533,363) scale(0.707)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g><g data-mml-node="mo" transform="translate(1158.8,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(2159,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(2936.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(3992.6,0)"><path data-c="37" d="M55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mn>3</mn></msup><mo>−</mo><mn>1</mn><mo>=</mo><mn>7</mn></math></mjx-assistive-mml></mjx-container>）</li></ul><p>可以看到，随着树的高度增加，节点的数量呈指数级增长。</p><p>要插入、查找或删除一个节点时，你需要从树的根开始，逐层往下找到合适的位置。每向下一层，树的节点数就会减半。换句话说，你在查找的过程中，每一步都缩小了一半的范围。因此，这种操作的时间复杂度是与树的高度成正比的。</p><p>对于一个有 <code>n</code> 个节点的平衡二叉树，树的高度大约是 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.112ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3585.7 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(278,0)"></path><path data-c="67" d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" transform="translate(778,0)"></path></g><g data-mml-node="mo" transform="translate(2430,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(2596.7,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3196.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container>，所以插入、查找或删除操作的时间复杂度也是 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.112ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3585.7 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(278,0)"></path><path data-c="67" d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" transform="translate(778,0)"></path></g><g data-mml-node="mo" transform="translate(2430,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(2596.7,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3196.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container>。</p><ol start="4"><li><strong>总结</strong></li></ol><ul><li>二叉树操作的时间复杂度通常和树的<strong>高度</strong>有关。</li><li>对于一个有 <code>n</code> 个节点的<strong>平衡二叉树</strong>，树的高度大约是 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.112ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3585.7 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(278,0)"></path><path data-c="67" d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" transform="translate(778,0)"></path></g><g data-mml-node="mo" transform="translate(2430,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(2596.7,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3196.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container>。</li><li>查找、插入、删除操作的复杂度都与树的高度相关，所以在平衡二叉树中的这些操作通常为 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.112ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3585.7 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(278,0)"></path><path data-c="67" d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" transform="translate(778,0)"></path></g><g data-mml-node="mo" transform="translate(2430,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(2596.7,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3196.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container>。</li></ul><p>在二叉树的时间复杂度为 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.112ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3585.7 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(278,0)"></path><path data-c="67" d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" transform="translate(778,0)"></path></g><g data-mml-node="mo" transform="translate(2430,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(2596.7,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3196.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container> 中，底数是 <strong>2</strong>。</p><div class="hint-container info"><p class="hint-container-title"><strong>为什么底数是 2？</strong></p><p>这是因为在每一层，平衡二叉树的节点数会 <strong>翻倍</strong>。具体来说：</p><ul><li>在树的第 0 层（根节点），有 1 个节点。</li><li>在树的第 1 层，有 2 个节点。</li><li>在树的第 2 层，有 4 个节点。</li><li>在树的第 3 层，有 8 个节点。</li></ul><p>因此，树的每一层的节点数以 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:0;" xmlns="http://www.w3.org/2000/svg" width="2.24ex" height="1.932ex" role="img" focusable="false" viewBox="0 -853.7 990.3 853.7" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(533,363) scale(0.707)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mi>h</mi></msup></math></mjx-assistive-mml></mjx-container> 的形式增长，<mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.303ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 576 705" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>h</mi></math></mjx-assistive-mml></mjx-container> 是层数（高度）。这个增长模式导致树的高度与节点总数之间的关系是以 2 为底的对数关系。所以，复杂度表示为 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="9.1ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 4022.2 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(1152,0)"><g data-mml-node="mi"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(278,0)"></path><path data-c="67" d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" transform="translate(778,0)"></path></g><g data-mml-node="mn" transform="translate(1311,-241.4) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(2866.6,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(3033.2,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3633.2,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><msub><mi>log</mi><mn>2</mn></msub><mo data-mjx-texclass="NONE">⁡</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container>，其中底数是 2。</p><p>不过，计算机科学中的对数复杂度通常忽略底数，因为不同底数的对数之间的差别只是一个常数倍，并不会影响大规模情况下的渐进复杂度。因此，常常简写为 <mjx-container class="MathJax" jax="SVG" style="position:relative;"><svg style="vertical-align:-0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.112ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3585.7 1000" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(763,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1152,0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="6F" d="M28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30Z" transform="translate(278,0)"></path><path data-c="67" d="M329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75Z" transform="translate(778,0)"></path></g><g data-mml-node="mo" transform="translate(2430,0)"><path data-c="2061" d=""></path></g><g data-mml-node="mi" transform="translate(2596.7,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3196.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>n</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container>，不具体说明底数。但从数学上讲，这里的底数是 2。</p></div><h2 id="_8-avl-树" tabindex="-1"><a class="header-anchor" href="#_8-avl-树"><span>8. AVL 树</span></a></h2><p>“节点高度”是指从该节点到它的最远叶节点的距离，即所经过的“边”的数量。需要特别注意的是，叶节点的高度为 0<br> ，而空节点的高度为 -1 。我们将创建两个工具函数，分别用于获取和更新节点的高度：</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>AVL 树的平衡因子的绝对值不可以大于1</p></div><h3 id="_8-1-初始化一个-avl-树" tabindex="-1"><a class="header-anchor" href="#_8-1-初始化一个-avl-树"><span>8.1 初始化一个 AVL 树</span></a></h3><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.height </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 0</span><span style="color:#88846F;">  # 由于 AVL 树的相关操作需要获取节点高度，因此我们需要为节点类添加 height 变量</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#88846F;">        # 节点的高度：是指从该节点到它最远叶节点的距离，即桥经过的“边”的数量。</span></span>
<span class="line"><span style="color:#88846F;">        # 需要特别注意的是：叶节点的高度为 0，而空节点的高度为 -1，我们将创建两个工具函数，分别用于获取和更新节点的高度</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> get_height</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#F8F8F2;"> node.height</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F92672;"> -</span><span style="color:#AE81FF;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> update_height</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">            node.height </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;"> max</span><span style="color:#F8F8F2;">([</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.height(node.left), </span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.height(node.right)]) </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span></span>
<span class="line"><span style="color:#88846F;">            # target = []</span></span>
<span class="line"><span style="color:#88846F;">            # target.append(self.height(node.left))</span></span>
<span class="line"><span style="color:#88846F;">            # target.append(self.height(node.right))</span></span>
<span class="line"><span style="color:#88846F;">            # node.height = max(target) + 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">        # 节点平衡因子</span></span>
<span class="line"><span style="color:#88846F;">        # 节点的平衡因子（balance factor）定义为节点左子树的高度减去节点右子树的高度，同时规定空节点平衡因子为 0</span></span>
<span class="line"><span style="color:#88846F;">        # 我们同样将获取节点的平衡因子的功能封装成函数，方便后续使用</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> balance_factor</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#88846F;">            # 空节点平衡因子为 0</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#AE81FF;"> 0</span></span>
<span class="line"><span style="color:#88846F;">            # 节点的平衡因子 = 左子树高度 - 右子树高度</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.get_height(node.left) </span><span style="color:#F92672;">-</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.get_height(node.right)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="_8-2-avl-树的旋转" tabindex="-1"><a class="header-anchor" href="#_8-2-avl-树的旋转"><span>8.2 AVL 树的旋转</span></a></h3><ul><li><p>AVL 树的特点在于“旋转”的操作，它能够在不影响二叉树的中序遍历序列的前提下，使失衡的节点重新恢复平衡。换一句话说：旋转操作既能保持“二叉搜索树”的性质，也能使树重新变为“平衡二叉树”。</p></li><li><p>我们现将平衡因子的绝对值 &gt; 1 的节点称为 “失衡节点” ，根据节点失衡情况不同，旋转操作分为四种：右旋，左旋，先右旋再左旋，先左旋再右旋。</p></li><li><img src="/assets/3579bb330340b1215203a315c12b14a-C3iCS0aa.jpg" alt="3579bb330340b1215203a315c12b14a" style="zoom:67%;"></li></ul><h4 id="_8-2-1-右旋" tabindex="-1"><a class="header-anchor" href="#_8-2-1-右旋"><span>8.2.1 右旋</span></a></h4><p>节点下方为平衡因子。从底至顶看，二叉树中首个失衡节点是“节点 3”。我们关注以该失衡节点为根节点的子树，将该节点记为 node ，其左子节点记为 child ，执行“右旋”操作。完成右旋后，子树恢复平衡，并且仍然保持二叉搜索树的性质。</p><img src="/assets/ksksksk-BS5uMlsV.jpg" alt="IMG_2455(20241018-112420)" style="zoom:33%;"><img src="/assets/%E6%94%B6%E6%8B%BE%E6%94%B6%E6%8B%BE-C7EIndEk.jpg" alt="IMG_2456(20241018-112433)" style="zoom:33%;"><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.height </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 0</span><span style="color:#88846F;">  # 由于 AVL 树的相关操作需要获取节点高度，因此我们需要为节点类添加 height 变量</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#88846F;">        # 节点的高度：是指从该节点到它最远叶节点的距离，即桥经过的“边”的数量。</span></span>
<span class="line"><span style="color:#88846F;">        # 需要特别注意的是：叶节点的高度为 0，而空节点的高度为 -1，我们将创建两个工具函数，分别用于获取和更新节点的高度</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> get_height</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#F8F8F2;"> node.height</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F92672;"> -</span><span style="color:#AE81FF;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> update_height</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">            node.height </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;"> max</span><span style="color:#F8F8F2;">([</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.height(node.left), </span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.height(node.right)]) </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span></span>
<span class="line"><span style="color:#88846F;">            # target = []</span></span>
<span class="line"><span style="color:#88846F;">            # target.append(self.height(node.left))</span></span>
<span class="line"><span style="color:#88846F;">            # target.append(self.height(node.right))</span></span>
<span class="line"><span style="color:#88846F;">            # node.height = max(target) + 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">        # 节点平衡因子</span></span>
<span class="line"><span style="color:#88846F;">        # 节点的平衡因子（balance factor）定义为节点左子树的高度减去节点右子树的高度，同时规定空节点平衡因子为 0</span></span>
<span class="line"><span style="color:#88846F;">        # 我们同样将获取节点的平衡因子的功能封装成函数，方便后续使用</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> balance_factor</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#88846F;">            # 空节点平衡因子为 0</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#AE81FF;"> 0</span></span>
<span class="line"><span style="color:#88846F;">            # 节点的平衡因子 = 左子树高度 - 右子树高度</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.get_height(node.left) </span><span style="color:#F92672;">-</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.get_height(node.right)</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> right_rotate</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">            child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node.left</span></span>
<span class="line"><span style="color:#F8F8F2;">            grand_child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> child.right </span><span style="color:#88846F;"># 若没有就记成 None。</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span></span>
<span class="line"><span style="color:#F8F8F2;">            child.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node</span></span>
<span class="line"><span style="color:#F8F8F2;">            node.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> grand_child</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">.update_height(node)</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">.update_height(child)</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> child</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h4 id="_8-2-2-左旋" tabindex="-1"><a class="header-anchor" href="#_8-2-2-左旋"><span>8.2.2 左旋</span></a></h4><img src="/assets/sksksksksksksksk-BQr7i_Mb.png" alt="IMG_2464(20241020-151125)" style="zoom:33%;"><p>4 是 node</p><img src="/assets/sasa-B37ZAizN.png" alt="IMG_2465(20241020-151339)" style="zoom:33%;"><p>1 是 node</p><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.height </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 0</span><span style="color:#88846F;">  # 由于 AVL 树的相关操作需要获取节点高度，因此我们需要为节点类添加 height 变量</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">        # 节点的高度：是指从该节点到它最远叶节点的距离，即桥经过的“边”的数量。</span></span>
<span class="line"><span style="color:#88846F;">        # 需要特别注意的是：叶节点的高度为 0，而空节点的高度为 -1，我们将创建两个工具函数，分别用于获取和更新节点的高度</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> get_height</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#F8F8F2;"> node.height</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F92672;"> -</span><span style="color:#AE81FF;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> update_height</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">            node.height </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;"> max</span><span style="color:#F8F8F2;">([</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.height(node.left), </span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.height(node.right)]) </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span></span>
<span class="line"><span style="color:#88846F;">            # target = []</span></span>
<span class="line"><span style="color:#88846F;">            # target.append(self.height(node.left))</span></span>
<span class="line"><span style="color:#88846F;">            # target.append(self.height(node.right))</span></span>
<span class="line"><span style="color:#88846F;">            # node.height = max(target) + 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">        # 节点平衡因子</span></span>
<span class="line"><span style="color:#88846F;">        # 节点的平衡因子（balance factor）定义为节点左子树的高度减去节点右子树的高度，同时规定空节点平衡因子为 0</span></span>
<span class="line"><span style="color:#88846F;">        # 我们同样将获取节点的平衡因子的功能封装成函数，方便后续使用</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> balance_factor</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#88846F;">            # 空节点平衡因子为 0</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#AE81FF;"> 0</span></span>
<span class="line"><span style="color:#88846F;">            # 节点的平衡因子 = 左子树高度 - 右子树高度</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.get_height(node.left) </span><span style="color:#F92672;">-</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.get_height(node.right)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> right_rotate</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">            child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node.left</span></span>
<span class="line"><span style="color:#F8F8F2;">            grand_child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> child.right  </span><span style="color:#88846F;"># 若没有就记成 None。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">            child.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node</span></span>
<span class="line"><span style="color:#F8F8F2;">            node.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> grand_child</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">.update_height(node)</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">.update_height(child)</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> child</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        def</span><span style="color:#A6E22E;"> left_rotate</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">            child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node.right</span></span>
<span class="line"><span style="color:#F8F8F2;">            grand_child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> child.left</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">            child.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node</span></span>
<span class="line"><span style="color:#F8F8F2;">            node.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> grand_child</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">.update_height(node)</span></span>
<span class="line"><span style="color:#FD971F;">            self</span><span style="color:#F8F8F2;">.update_height(child)</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> child</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h4 id="_8-2-3-先左旋后右旋" tabindex="-1"><a class="header-anchor" href="#_8-2-3-先左旋后右旋"><span>8.2.3 先左旋后右旋</span></a></h4><img src="/assets/%E7%9D%A1%E5%95%A6%E5%8D%A1%E5%8D%A1%E8%BD%A6s-CqBoj7d1.png" alt="IMG_2466(20241020-152750)" style="zoom:33%;"><h4 id="_8-2-4-先右旋再左旋" tabindex="-1"><a class="header-anchor" href="#_8-2-4-先右旋再左旋"><span>8.2.4 先右旋再左旋</span></a></h4><img src="/assets/bbd9d2ed5fd62e474612bb643219930-B88wQboo.jpg" alt="bbd9d2ed5fd62e474612bb643219930" style="zoom:33%;"><h4 id="_8-2-5-完整代码" tabindex="-1"><a class="header-anchor" href="#_8-2-5-完整代码"><span>8.2.5 完整代码</span></a></h4><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">TreeNode</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;AVL 树节点类&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#88846F;">    # 该类用于表示 AVL 树的节点，包含节点的值、左右子节点的引用以及节点的高度</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#66D9EF;"> __init__</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#88846F;">        # 初始化节点时，设置节点值，并将左右子节点初始化为 None，节点高度初始为 0</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> val  </span><span style="color:#88846F;"># 节点值</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.height </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> 0</span><span style="color:#88846F;">  # 节点高度，初始为 0</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.left </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 左子节点引用，初始为 None</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.right </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> None</span><span style="color:#88846F;">  # 右子节点引用，初始为 None</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> get_height</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;获取节点高度&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#88846F;">        # 如果节点存在，则返回节点的高度；否则返回 -1，表示空节点的高度</span></span>
<span class="line"><span style="color:#88846F;">        # 空节点高度为 -1 ，叶节点高度为 0</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#F8F8F2;"> node.height  </span><span style="color:#88846F;"># 返回节点的高度</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F92672;"> -</span><span style="color:#AE81FF;">1</span><span style="color:#88846F;">  # 空节点返回 -1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> update_height</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;更新节点高度&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#88846F;">        # 节点的高度是左右子树中较高者的高度加 1</span></span>
<span class="line"><span style="color:#88846F;">        # 先获取左右子树的高度，更新当前节点的高度</span></span>
<span class="line"><span style="color:#F8F8F2;">        node.height </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;"> max</span><span style="color:#F8F8F2;">([</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.get_height(node.left), </span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">.get_height(node.right)]) </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1</span></span>
<span class="line"><span style="color:#88846F;">        # max([左子树高度, 右子树高度]) + 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> balance_factor</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;获取平衡因子&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#88846F;">        # 平衡因子是左右子树高度的差，用来判断子树的平衡情况</span></span>
<span class="line"><span style="color:#88846F;">        # 空节点平衡因子为 0</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            return</span><span style="color:#AE81FF;"> 0</span><span style="color:#88846F;">  # 空节点返回 0</span></span>
<span class="line"><span style="color:#88846F;">        # 节点的平衡因子等于左子树的高度减去右子树的高度</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.get_height(node.left) </span><span style="color:#F92672;">-</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.get_height(node.right)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> right_rotate</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;右旋操作&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#88846F;">        # 对于左偏的树执行右旋操作，使其重新平衡</span></span>
<span class="line"><span style="color:#F8F8F2;">        child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node.left  </span><span style="color:#88846F;"># 获取左子节点</span></span>
<span class="line"><span style="color:#F8F8F2;">        grand_child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> child.right  </span><span style="color:#88846F;"># 获取左子节点的右子节点（孙节点）</span></span>
<span class="line"><span style="color:#88846F;">        # 以 child 为新根节点，将 node 作为 child 的右子节点</span></span>
<span class="line"><span style="color:#F8F8F2;">        child.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node  </span><span style="color:#88846F;"># 原根节点变为右子节点</span></span>
<span class="line"><span style="color:#F8F8F2;">        node.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> grand_child  </span><span style="color:#88846F;"># 原左子节点的右子节点（孙节点）作为 node 的左子节点</span></span>
<span class="line"><span style="color:#88846F;">        # 更新旋转后节点的高度</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.update_height(node)  </span><span style="color:#88846F;"># 更新原根节点的高度</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.update_height(child)  </span><span style="color:#88846F;"># 更新新根节点的高度</span></span>
<span class="line"><span style="color:#88846F;">        # 返回旋转后的新根节点</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> child  </span><span style="color:#88846F;"># 右旋后返回新的子树根节点</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> left_rotate</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;左旋操作&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#88846F;">        # 对于右偏的树执行左旋操作，使其重新平衡</span></span>
<span class="line"><span style="color:#F8F8F2;">        child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node.right  </span><span style="color:#88846F;"># 获取右子节点</span></span>
<span class="line"><span style="color:#F8F8F2;">        grand_child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> child.left  </span><span style="color:#88846F;"># 获取右子节点的左子节点（孙节点）</span></span>
<span class="line"><span style="color:#88846F;">        # 以 child 为新根节点，将 node 作为 child 的左子节点</span></span>
<span class="line"><span style="color:#F8F8F2;">        child.left </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node  </span><span style="color:#88846F;"># 原根节点变为左子节点</span></span>
<span class="line"><span style="color:#F8F8F2;">        node.right </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> grand_child  </span><span style="color:#88846F;"># 原右子节点的左子节点（孙节点）作为 node 的右子节点</span></span>
<span class="line"><span style="color:#88846F;">        # 更新旋转后节点的高度</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.update_height(node)  </span><span style="color:#88846F;"># 更新原根节点的高度</span></span>
<span class="line"><span style="color:#FD971F;">        self</span><span style="color:#F8F8F2;">.update_height(child)  </span><span style="color:#88846F;"># 更新新根节点的高度</span></span>
<span class="line"><span style="color:#88846F;">        # 返回旋转后的新根节点</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> child  </span><span style="color:#88846F;"># 左旋后返回新的子树根节点</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    def</span><span style="color:#A6E22E;"> rotate</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">        &quot;&quot;&quot;执行旋转操作，使该子树重新恢复平衡&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#88846F;">        # 通过平衡因子判断当前子树是否失衡，若失衡则进行相应的旋转操作</span></span>
<span class="line"><span style="color:#F8F8F2;">        balance_factor </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.balance_factor(node)  </span><span style="color:#88846F;"># 获取节点的平衡因子</span></span>
<span class="line"><span style="color:#88846F;">        # 左偏树，平衡因子大于 1 表示左子树过高</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> balance_factor </span><span style="color:#F92672;">&gt;</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.balance_factor(node.left) </span><span style="color:#F92672;">&gt;=</span><span style="color:#AE81FF;"> 0</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">                # 左子树也是左偏：右旋恢复平衡</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.right_rotate(node)</span></span>
<span class="line"><span style="color:#F92672;">            else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">                # 左子树右偏：先对左子节点进行左旋，再右旋</span></span>
<span class="line"><span style="color:#F8F8F2;">                node.left </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.left_rotate(node.left)</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.right_rotate(node)</span></span>
<span class="line"><span style="color:#88846F;">        # 右偏树，平衡因子小于 -1 表示右子树过高</span></span>
<span class="line"><span style="color:#F92672;">        elif</span><span style="color:#F8F8F2;"> balance_factor </span><span style="color:#F92672;">&lt;</span><span style="color:#F92672;"> -</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.balance_factor(node.right) </span><span style="color:#F92672;">&lt;=</span><span style="color:#AE81FF;"> 0</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">                # 右子树也是右偏：左旋恢复平衡</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.left_rotate(node)</span></span>
<span class="line"><span style="color:#F92672;">            else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">                # 右子树左偏：先对右子节点进行右旋，再左旋</span></span>
<span class="line"><span style="color:#F8F8F2;">                node.right </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.right_rotate(node.right)</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.left_rotate(node)</span></span>
<span class="line"><span style="color:#88846F;">        # 如果当前子树平衡，无需旋转，直接返回当前节点</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> node  </span><span style="color:#88846F;"># 平衡的子树直接返回</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="_8-2-avl-树的插入" tabindex="-1"><a class="header-anchor" href="#_8-2-avl-树的插入"><span>8.2 AVL 树的插入</span></a></h3><p>AVL 树的节点插入操作与二叉搜索树在主体上类似。唯一的区别在于，在 AVL 树中插入节点后，从该节点到根节点的路径上可能会出现一系列失衡节点。因此，我们需要从这个节点开始，自底向上执行旋转操作，使所有失衡节点恢复平衡。代码如下所示：</p><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> insert</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;插入节点&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#FD971F;">    self</span><span style="color:#F8F8F2;">._root </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.insert_helper(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">._root, val)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> insert_helper</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">: TreeNode </span><span style="color:#F92672;">|</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">) -&gt; TreeNode:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;递归插入节点（辅助方法）&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> TreeNode(val)</span></span>
<span class="line"><span style="color:#88846F;">    # 1. 查找插入位置并插入节点</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> node.val:</span></span>
<span class="line"><span style="color:#F8F8F2;">        node.left </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.insert_helper(node.left, val)</span></span>
<span class="line"><span style="color:#F92672;">    elif</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> node.val:</span></span>
<span class="line"><span style="color:#F8F8F2;">        node.right </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.insert_helper(node.right, val)</span></span>
<span class="line"><span style="color:#F92672;">    else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">        # 重复节点不插入，直接返回</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> node</span></span>
<span class="line"><span style="color:#88846F;">    # 更新节点高度</span></span>
<span class="line"><span style="color:#FD971F;">    self</span><span style="color:#F8F8F2;">.update_height(node)</span></span>
<span class="line"><span style="color:#88846F;">    # 2. 执行旋转操作，使该子树重新恢复平衡</span></span>
<span class="line"><span style="color:#F92672;">    return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.rotate(node)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="_8-2-avl-树的删除" tabindex="-1"><a class="header-anchor" href="#_8-2-avl-树的删除"><span>8.2 AVL 树的删除</span></a></h3><p>在 AVL 树的插入、删除和旋转操作中，通常只涉及对节点的引用的操作（即指针或引用的改变），并不会复制节点对象。这种行为可以被视为类似于浅拷贝的操作，因为在旋转、平衡等操作中，改变的是节点的引用关系，而不是复制整个子树或节点的内容。</p><p>类似地，在二叉搜索树的删除节点方法的基础上，需要从底至顶执行旋转操作，使所有失衡节点恢复平衡。代码如下所示：</p><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> remove</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;删除节点&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#FD971F;">    self</span><span style="color:#F8F8F2;">._root </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.remove_helper(</span><span style="color:#FD971F;">self</span><span style="color:#F8F8F2;">._root, val)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> remove_helper</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">self</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">node</span><span style="color:#F8F8F2;">: TreeNode </span><span style="color:#F92672;">|</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">val</span><span style="color:#F8F8F2;">: </span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;">) -&gt; TreeNode </span><span style="color:#F92672;">|</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#E6DB74;">    &quot;&quot;&quot;递归删除节点（辅助方法）&quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> node </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#88846F;">    # 1. 查找节点并删除</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">&lt;</span><span style="color:#F8F8F2;"> node.val:</span></span>
<span class="line"><span style="color:#F8F8F2;">        node.left </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.remove_helper(node.left, val)</span></span>
<span class="line"><span style="color:#F92672;">    elif</span><span style="color:#F8F8F2;"> val </span><span style="color:#F92672;">&gt;</span><span style="color:#F8F8F2;"> node.val:</span></span>
<span class="line"><span style="color:#F8F8F2;">        node.right </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.remove_helper(node.right, val)</span></span>
<span class="line"><span style="color:#F92672;">    else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">        if</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F92672;"> or</span><span style="color:#F8F8F2;"> node.right </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">            child </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node.left </span><span style="color:#F92672;">or</span><span style="color:#F8F8F2;"> node.right</span></span>
<span class="line"><span style="color:#88846F;">            # 子节点数量 = 0 ，直接删除 node 并返回</span></span>
<span class="line"><span style="color:#F92672;">            if</span><span style="color:#F8F8F2;"> child </span><span style="color:#F92672;">is</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F92672;">                return</span><span style="color:#AE81FF;"> None</span></span>
<span class="line"><span style="color:#88846F;">            # 子节点数量 = 1 ，直接删除 node</span></span>
<span class="line"><span style="color:#F92672;">            else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">                node </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> child</span></span>
<span class="line"><span style="color:#F92672;">        else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">            # 子节点数量 = 2 ，则将中序遍历的下个节点删除，并用该节点替换当前节点</span></span>
<span class="line"><span style="color:#F8F8F2;">            temp </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> node.right</span></span>
<span class="line"><span style="color:#F92672;">            while</span><span style="color:#F8F8F2;"> temp.left </span><span style="color:#F92672;">is</span><span style="color:#F92672;"> not</span><span style="color:#AE81FF;"> None</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">                temp </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> temp.left</span></span>
<span class="line"><span style="color:#F8F8F2;">            node.right </span><span style="color:#F92672;">=</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.remove_helper(node.right, temp.val)</span></span>
<span class="line"><span style="color:#F8F8F2;">            node.val </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> temp.val</span></span>
<span class="line"><span style="color:#88846F;">    # 更新节点高度</span></span>
<span class="line"><span style="color:#FD971F;">    self</span><span style="color:#F8F8F2;">.update_height(node)</span></span>
<span class="line"><span style="color:#88846F;">    # 2. 执行旋转操作，使该子树重新恢复平衡</span></span>
<span class="line"><span style="color:#F92672;">    return</span><span style="color:#FD971F;"> self</span><span style="color:#F8F8F2;">.rotate(node)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2024/11/25 09:15:11</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 2310219843@qq.com">Xiaoxianyue</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/zh/Advanced_Algorithms/Week0405.html" aria-label="高级算法——第4,5周查漏补缺" iconsizing="both"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><i class="vp-icon iconfont icon-python" sizing="height"></i>高级算法——第4,5周查漏补缺</div></a><a class="route-link auto-link next" href="/zh/Advanced_Algorithms/Week05.html" aria-label="高级算法——第5周ppt总结" iconsizing="both"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">高级算法——第5周ppt总结<i class="vp-icon iconfont icon-python" sizing="height"></i></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">默认页脚</div><div class="vp-copyright">Copyright © 2025 XiaoXianYue </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-84lBMjzT.js" defer></script>
  </body>
</html>

import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,b as a,o as t}from"./app-B1-vnyyS.js";const l={};function i(r,e){return t(),n("div",null,e[0]||(e[0]=[a(`<h2 id="etree" tabindex="-1"><a class="header-anchor" href="#etree"><span>etree</span></a></h2><h3 id="etree-html" tabindex="-1"><a class="header-anchor" href="#etree-html"><span>etree.HTML()</span></a></h3><p>解析 HTML</p><ul><li><code>etree.HTML(text)</code> 用于解析 HTML 字符串、文件对象或 URL 中的 HTML 内容。</li><li>解析后的 HTML 结构会被转换为 <strong><strong>ElementTree</strong></strong>（元素树），供进一步操作。</li></ul><p>转换 HTML 为 <code>ElementTree</code></p><ul><li>解析后，整个 HTML 文档会转换成 树形结构。</li><li>在 树形结构 中，每个 HTML 元素都是 <strong>节点</strong>，可以 <strong>遍历、查找、修改</strong>。</li></ul><p>支持 XPath 解析</p><ul><li>解析后的 <code>ElementTree</code> 支持 XPath 选择器，可以快速定位 HTML 元素</li></ul><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> lxml </span><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> etree</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 示例 HTML 文本</span></span>
<span class="line"><span style="color:#F8F8F2;">html_text </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &quot;&quot;&quot;</span></span>
<span class="line"><span style="color:#E6DB74;">&lt;html&gt;</span></span>
<span class="line"><span style="color:#E6DB74;">    &lt;body&gt;</span></span>
<span class="line"><span style="color:#E6DB74;">        &lt;div class=&quot;content&quot;&gt;</span></span>
<span class="line"><span style="color:#E6DB74;">            &lt;h2&gt;Python 爬虫教程&lt;/h2&gt;</span></span>
<span class="line"><span style="color:#E6DB74;">            &lt;p&gt;使用 lxml 解析 HTML&lt;/p&gt;</span></span>
<span class="line"><span style="color:#E6DB74;">        &lt;/div&gt;</span></span>
<span class="line"><span style="color:#E6DB74;">    &lt;/body&gt;</span></span>
<span class="line"><span style="color:#E6DB74;">&lt;/html&gt;</span></span>
<span class="line"><span style="color:#E6DB74;">&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 解析 HTML</span></span>
<span class="line"><span style="color:#F8F8F2;">html_tree </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> etree.HTML(html_text)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 使用 XPath 选择 h2 标签</span></span>
<span class="line"><span style="color:#F8F8F2;">title </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> html_tree.xpath(</span><span style="color:#E6DB74;">&quot;//h2/text()&quot;</span><span style="color:#F8F8F2;">)[</span><span style="color:#AE81FF;">0</span><span style="color:#F8F8F2;">]</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(title)  </span><span style="color:#88846F;"># 输出：Python 爬虫教程</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="etree-parse" tabindex="-1"><a class="header-anchor" href="#etree-parse"><span>etree.parse()</span></a></h3><p><strong>1️⃣<code>etree.parse()</code> 介绍</strong></p><ul><li><code>etree.parse()</code> 用于 <strong>从文件解析 HTML/XML</strong>，转换成 <strong>ElementTree</strong> 结构。</li><li>解析后的 <strong>树结构</strong> 可用于 <strong>XPath 查询</strong>。</li></ul><p><strong>2️⃣ <code>etree.parse()</code> 语法</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span>python</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>复制编辑</span></span>
<span class="line"><span>etree.parse(source, parser=None, base_url=None)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>source</code>：HTML/XML 文件路径、URL 或字符串。</li><li><code>parser</code>：指定 <strong>HTML 或 XML 解析器</strong>，默认为 <code>None</code>，可用 <code>etree.HTMLParser()</code> 解析 HTML。</li><li><code>base_url</code>：用于解析 <strong>相对 URL</strong>。</li></ul><h4 id="📌-etree-parse-解析-html" tabindex="-1"><a class="header-anchor" href="#📌-etree-parse-解析-html"><span><strong>📌 <code>etree.parse()</code> 解析 HTML</strong></span></a></h4><p><strong>示例 HTML 结构</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span>html复制编辑&lt;div&gt;</span></span>
<span class="line"><span>    &lt;ul&gt;</span></span>
<span class="line"><span>        &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link1.html&quot;&gt;first news&lt;/a&gt;&lt;/li&gt;</span></span>
<span class="line"><span>        &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link2.html&quot;&gt;second news&lt;/a&gt;&lt;/li&gt;</span></span>
<span class="line"><span>        &lt;li class=&quot;item-inactive&quot;&gt;&lt;a href=&quot;link3.html&quot;&gt;third news&lt;/a&gt;&lt;/li&gt;</span></span>
<span class="line"><span>        &lt;li class=&quot;item-1&quot;&gt;&lt;a href=&quot;link4.html&quot;&gt;fourth news&lt;/a&gt;&lt;/li&gt;</span></span>
<span class="line"><span>        &lt;li class=&quot;item-0&quot;&gt;&lt;a href=&quot;link5.html&quot;&gt;fifth news&lt;/a&gt;&lt;/li&gt;</span></span>
<span class="line"><span>    &lt;/ul&gt;</span></span>
<span class="line"><span>&lt;/div&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3️⃣ <code>etree.parse()</code> 读取 HTML</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span>python复制编辑from lxml import etree</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 解析 HTML 文件</span></span>
<span class="line"><span>html = etree.parse(&quot;test.html&quot;, etree.HTMLParser())</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 使用 XPath 提取所有 &lt;li&gt; 标签</span></span>
<span class="line"><span>result = html.xpath(&quot;//li&quot;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 打印 &lt;li&gt; 标签数量</span></span>
<span class="line"><span>print(len(result))  # 输出：5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>读取 <code>test.html</code></strong> 并解析为 <strong>ElementTree</strong>。</li><li><strong><code>//li</code></strong> 使用 <strong>XPath</strong> 查找所有 <code>&lt;li&gt;</code> 标签。</li><li><strong><code>print(len(result))</code></strong> 输出 <strong>li 标签个数</strong>（5）。</li></ul><h3 id="vs" tabindex="-1"><a class="header-anchor" href="#vs"><span>vs</span></a></h3><table><thead><tr><th><strong>功能</strong></th><th><code>etree.parse()</code></th><th><code>etree.HTML()</code></th></tr></thead><tbody><tr><td><strong>数据来源</strong></td><td>本地文件 / URL</td><td>HTML 字符串</td></tr><tr><td><strong>适用场景</strong></td><td>解析 HTML 文件</td><td>解析爬虫返回的 HTML</td></tr><tr><td><strong>输入数据</strong></td><td>文件路径或文件对象</td><td>直接传入 HTML 字符串</td></tr><tr><td><strong>推荐用途</strong></td><td>处理本地 HTML 文档</td><td>解析网页源码</td></tr></tbody></table><h2 id="xpath" tabindex="-1"><a class="header-anchor" href="#xpath"><span>xpath</span></a></h2><h3 id="使用例子" tabindex="-1"><a class="header-anchor" href="#使用例子"><span>使用例子</span></a></h3><h4 id="_1-xpath-li-class" tabindex="-1"><a class="header-anchor" href="#_1-xpath-li-class"><span>1. <code>xpath(&#39;//li/@class&#39;)</code></span></a></h4><p><strong>✅ 代码</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span>python复制编辑from lxml import etree</span></span>
<span class="line"><span></span></span>
<span class="line"><span>html = etree.parse(&#39;test.html&#39;, etree.HTMLParser())</span></span>
<span class="line"><span>result = html.xpath(&#39;//li/@class&#39;)</span></span>
<span class="line"><span>print(result)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>✅ 解析</strong></p><ul><li><strong><code>//li</code></strong> ：选择所有 <code>&lt;li&gt;</code> 标签。</li><li><strong><code>@class</code></strong> ：获取 <code>&lt;li&gt;</code> 标签的 <code>class</code> 属性值。</li></ul><h4 id="_2-xpath-li-a-href-link1-html" tabindex="-1"><a class="header-anchor" href="#_2-xpath-li-a-href-link1-html"><span>2. <code>xpath(&#39;//li/a[@href=&quot;link1.html&quot;]&#39;)</code></span></a></h4><p><strong>✅ 代码</strong></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span>python复制编辑from lxml import etree</span></span>
<span class="line"><span></span></span>
<span class="line"><span>html = etree.parse(&#39;test.html&#39;, etree.HTMLParser())</span></span>
<span class="line"><span>result = html.xpath(&#39;//li/a[@href=&quot;link1.html&quot;]&#39;)</span></span>
<span class="line"><span>print(result)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>✅ 解析</strong></p><ul><li><strong><code>//li/a</code></strong> ：选择 <strong><code>&lt;li&gt;</code> 内的 <code>&lt;a&gt;</code> 标签</strong>。</li><li><strong><code>[@href=&quot;link1.html&quot;]</code></strong> ：筛选 <strong><code>href=&quot;link1.html&quot;</code></strong> 的 <code>&lt;a&gt;</code> 标签。</li></ul><p><strong>✅ 作用</strong></p><p>✔ 该 XPath 选择 <strong>所有 <code>&lt;a&gt;</code> 标签</strong>，但 <strong>仅限 <code>href=&quot;link1.html&quot;</code></strong> 的元素。</p><h3 id="xpath-expression-查找方法" tabindex="-1"><a class="header-anchor" href="#xpath-expression-查找方法"><span><strong>XPath Expression 查找方法</strong></span></a></h3><p>该图片介绍了 如何在浏览器中定位 XPath 搜索框 以及 **获取 **XPath 路径的具体步骤。</p><h4 id="✅-操作步骤" tabindex="-1"><a class="header-anchor" href="#✅-操作步骤"><span><strong>✅ 操作步骤</strong></span></a></h4><ol><li>打开开发者工具 <ul><li>点击 Elements 面板 进入 元素检查模式。</li></ul></li><li>选择网页元素 <ul><li>点击箭头图标（🡆）或使用快捷键 <strong><code>Ctrl+Shift+C</code></strong> 进入 元素选择模式。</li></ul></li><li>定位目标元素 <ul><li>在网页上点击目标元素，它将在 Elements 面板 中高亮显示。</li></ul></li><li>查找 XPath <ul><li>在 Elements 面板 中找到目标元素在 HTML 代码中的位置。</li></ul></li><li>搜索 XPath <ul><li>按 <strong><code>Ctrl+F</code></strong> 打开 XPath 搜索框，输入 XPath 表达式进行查找。</li></ul></li><li>复制 XPath <ul><li>如果是单个元素，可以直接 右键复制 XPath 并输入搜索框。</li><li>如果是多个元素，建议 手动输入优化的 XPath 以提高准确性。</li></ul></li></ol>`,41)]))}const c=s(l,[["render",i]]),d=JSON.parse('{"path":"/zh/Big_Data/notes.html","title":"大数据笔记","lang":"zh-CN","frontmatter":{"title":"大数据笔记","icon":"alias","date":"2025-03-11T10:28:21.000Z","author":"XiaoXianYue","isOriginal":true,"category":["大三下","大数据"],"tag":["大三下","大数据"],"sticky":false,"star":false,"article":true,"timeline":true,"image":false,"navbar":true,"sidebarIcon":true,"headerDepth":5,"lastUpdated":true,"editLink":false,"backToTop":true,"toc":true,"description":"etree etree.HTML() 解析 HTML etree.HTML(text) 用于解析 HTML 字符串、文件对象或 URL 中的 HTML 内容。 解析后的 HTML 结构会被转换为 ElementTree（元素树），供进一步操作。 转换 HTML 为 ElementTree 解析后，整个 HTML 文档会转换成 树形结构。 在 树形结构 ...","head":[["meta",{"property":"og:url","content":"https://bougiemoonintaurus/zh/Big_Data/notes.html"}],["meta",{"property":"og:site_name","content":"奶酪奶酪"}],["meta",{"property":"og:title","content":"大数据笔记"}],["meta",{"property":"og:description","content":"etree etree.HTML() 解析 HTML etree.HTML(text) 用于解析 HTML 字符串、文件对象或 URL 中的 HTML 内容。 解析后的 HTML 结构会被转换为 ElementTree（元素树），供进一步操作。 转换 HTML 为 ElementTree 解析后，整个 HTML 文档会转换成 树形结构。 在 树形结构 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-19T17:01:16.000Z"}],["meta",{"property":"article:author","content":"XiaoXianYue"}],["meta",{"property":"article:tag","content":"大三下"}],["meta",{"property":"article:tag","content":"大数据"}],["meta",{"property":"article:published_time","content":"2025-03-11T10:28:21.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-19T17:01:16.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"大数据笔记\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-03-11T10:28:21.000Z\\",\\"dateModified\\":\\"2025-03-19T17:01:16.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"XiaoXianYue\\"}]}"]]},"git":{"createdTime":1742403676000,"updatedTime":1742403676000,"contributors":[{"name":"Xiaoxianyue","username":"Xiaoxianyue","email":"2310219843@qq.com","commits":1,"url":"https://github.com/Xiaoxianyue"}]},"readingTime":{"minutes":2.93,"words":878},"filePathRelative":"zh/Big_Data/notes.md","localizedDate":"2025年3月11日","excerpt":"<h2>etree</h2>\\n<h3>etree.HTML()</h3>\\n<p>解析 HTML</p>\\n<ul>\\n<li><code>etree.HTML(text)</code> 用于解析 HTML 字符串、文件对象或 URL 中的 HTML 内容。</li>\\n<li>解析后的 HTML 结构会被转换为 <strong><strong>ElementTree</strong></strong>（元素树），供进一步操作。</li>\\n</ul>\\n<p>转换 HTML 为 <code>ElementTree</code></p>\\n<ul>\\n<li>解析后，整个 HTML 文档会转换成 树形结构。</li>\\n<li>在 树形结构 中，每个 HTML 元素都是 <strong>节点</strong>，可以 <strong>遍历、查找、修改</strong>。</li>\\n</ul>","autoDesc":true}');export{c as comp,d as data};

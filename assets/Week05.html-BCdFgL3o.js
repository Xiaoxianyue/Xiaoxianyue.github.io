import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,b as l,o as e}from"./app-Cd_kfShj.js";const p={};function o(t,s){return e(),a("div",null,s[0]||(s[0]=[l(`<h3 id="环境准备" tabindex="-1"><a class="header-anchor" href="#环境准备"><span>环境准备</span></a></h3><h4 id="数据库表-tb-brand" tabindex="-1"><a class="header-anchor" href="#数据库表-tb-brand"><span>数据库表 <code>tb_brand</code></span></a></h4><p>我们需要在数据库中创建一个表 <code>tb_brand</code>。假设我们使用的是 MySQL 数据库，表结构如下：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">CREATE</span><span style="color:#F92672;"> TABLE</span><span style="color:#A6E22E;"> tb_brand</span><span style="color:#F8F8F2;"> (</span></span>
<span class="line"><span style="color:#F8F8F2;">    id </span><span style="color:#66D9EF;font-style:italic;">INT</span><span style="color:#F8F8F2;"> AUTO_INCREMENT </span><span style="color:#F92672;">PRIMARY KEY</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    brand_name </span><span style="color:#66D9EF;font-style:italic;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">255</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">NOT NULL</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    company_name </span><span style="color:#66D9EF;font-style:italic;">VARCHAR</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">255</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">NOT NULL</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F8F8F2;">    ordered </span><span style="color:#66D9EF;font-style:italic;">INT</span><span style="color:#F92672;"> NOT NULL</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F92672;">    description</span><span style="color:#66D9EF;font-style:italic;"> TEXT</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#F92672;">    status</span><span style="color:#66D9EF;font-style:italic;"> INT</span><span style="color:#F92672;"> NOT NULL</span></span>
<span class="line"><span style="color:#F8F8F2;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="实体类-brand" tabindex="-1"><a class="header-anchor" href="#实体类-brand"><span>实体类 <code>Brand</code></span></a></h4><p>我们需要一个与数据库表对应的实体类 <code>Brand</code>。假设我们使用的是 Java 语言：</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">public</span><span style="color:#F92672;"> class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">Brand</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F92672;">    private</span><span style="color:#66D9EF;font-style:italic;"> int</span><span style="color:#F8F8F2;"> id;</span></span>
<span class="line"><span style="color:#F92672;">    private</span><span style="color:#66D9EF;font-style:italic;"> String</span><span style="color:#F8F8F2;"> brandName;</span></span>
<span class="line"><span style="color:#F92672;">    private</span><span style="color:#66D9EF;font-style:italic;"> String</span><span style="color:#F8F8F2;"> companyName;</span></span>
<span class="line"><span style="color:#F92672;">    private</span><span style="color:#66D9EF;font-style:italic;"> int</span><span style="color:#F8F8F2;"> ordered;</span></span>
<span class="line"><span style="color:#F92672;">    private</span><span style="color:#66D9EF;font-style:italic;"> String</span><span style="color:#F8F8F2;"> description;</span></span>
<span class="line"><span style="color:#F92672;">    private</span><span style="color:#66D9EF;font-style:italic;"> int</span><span style="color:#F8F8F2;"> status;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    // Getters and Setters</span></span>
<span class="line"><span style="color:#88846F;">    // ...</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数据库操作" tabindex="-1"><a class="header-anchor" href="#数据库操作"><span>数据库操作</span></a></h3><p>我们需要一个 <em><code>DAO</code></em>（数据访问对象）类来处理对数据库表 <code>tb_brand</code> 的 CRUD 操作。以下是使用 <code>JDBC</code> 进行数据库操作的示例代码。</p><h4 id="查询所有数据" tabindex="-1"><a class="header-anchor" href="#查询所有数据"><span>查询所有数据</span></a></h4><ol><li>获取 <code>Connection</code></li><li>定义 SQL：<code>SELECT * FROM tb_brand</code></li><li>获取 <code>PreparedStatement</code> 对象</li><li>设置参数：不需要</li><li>执行 <code>SQL</code></li><li>处理结果：<code>List&lt;Brand&gt;</code></li><li>释放资源</li></ol><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="java" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">import</span><span style="color:#F92672;"> java.sql.</span><span style="color:#FD971F;">*</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F92672;"> java.util.ArrayList</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F92672;"> java.util.List</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">public</span><span style="color:#F92672;"> class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">BrandDAO</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F92672;">    private</span><span style="color:#F92672;"> static</span><span style="color:#F92672;"> final</span><span style="color:#66D9EF;font-style:italic;"> String</span><span style="color:#F8F8F2;"> URL </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &quot;jdbc:mysql://localhost:3306/yourdatabase&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">    private</span><span style="color:#F92672;"> static</span><span style="color:#F92672;"> final</span><span style="color:#66D9EF;font-style:italic;"> String</span><span style="color:#F8F8F2;"> USER </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &quot;yourusername&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F92672;">    private</span><span style="color:#F92672;"> static</span><span style="color:#F92672;"> final</span><span style="color:#66D9EF;font-style:italic;"> String</span><span style="color:#F8F8F2;"> PASSWORD </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &quot;yourpassword&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">    public</span><span style="color:#66D9EF;font-style:italic;"> List</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#66D9EF;font-style:italic;">Brand</span><span style="color:#F8F8F2;">&gt; </span><span style="color:#A6E22E;">getAllBrands</span><span style="color:#F8F8F2;">() </span><span style="color:#F92672;">throws</span><span style="color:#66D9EF;font-style:italic;"> SQLException</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        List</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#66D9EF;font-style:italic;">Brand</span><span style="color:#F8F8F2;">&gt; brands </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> new</span><span style="color:#66D9EF;font-style:italic;"> ArrayList</span><span style="color:#F8F8F2;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        String</span><span style="color:#F8F8F2;"> sql </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &quot;SELECT * FROM tb_brand&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#F92672;">        try</span><span style="color:#F8F8F2;"> (</span><span style="color:#66D9EF;font-style:italic;">Connection</span><span style="color:#F8F8F2;"> conn </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> DriverManager.</span><span style="color:#A6E22E;">getConnection</span><span style="color:#F8F8F2;">(URL, USER, PASSWORD);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">             PreparedStatement</span><span style="color:#F8F8F2;"> stmt </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> conn.</span><span style="color:#A6E22E;">prepareStatement</span><span style="color:#F8F8F2;">(sql);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">             ResultSet</span><span style="color:#F8F8F2;"> rs </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> stmt.</span><span style="color:#A6E22E;">executeQuery</span><span style="color:#F8F8F2;">()) {</span></span>
<span class="line"><span style="color:#F8F8F2;">            </span></span>
<span class="line"><span style="color:#F92672;">            while</span><span style="color:#F8F8F2;"> (rs.</span><span style="color:#A6E22E;">next</span><span style="color:#F8F8F2;">()) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">                Brand</span><span style="color:#F8F8F2;"> brand </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> new</span><span style="color:#A6E22E;"> Brand</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F8F8F2;">                brand.</span><span style="color:#A6E22E;">setId</span><span style="color:#F8F8F2;">(rs.</span><span style="color:#A6E22E;">getInt</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;id&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#F8F8F2;">                brand.</span><span style="color:#A6E22E;">setBrandName</span><span style="color:#F8F8F2;">(rs.</span><span style="color:#A6E22E;">getString</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;brand_name&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#F8F8F2;">                brand.</span><span style="color:#A6E22E;">setCompanyName</span><span style="color:#F8F8F2;">(rs.</span><span style="color:#A6E22E;">getString</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;company_name&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#F8F8F2;">                brand.</span><span style="color:#A6E22E;">setOrdered</span><span style="color:#F8F8F2;">(rs.</span><span style="color:#A6E22E;">getInt</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;ordered&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#F8F8F2;">                brand.</span><span style="color:#A6E22E;">setDescription</span><span style="color:#F8F8F2;">(rs.</span><span style="color:#A6E22E;">getString</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;description&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#F8F8F2;">                brand.</span><span style="color:#A6E22E;">setStatus</span><span style="color:#F8F8F2;">(rs.</span><span style="color:#A6E22E;">getInt</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;status&quot;</span><span style="color:#F8F8F2;">));</span></span>
<span class="line"><span style="color:#F8F8F2;">                brands.</span><span style="color:#A6E22E;">add</span><span style="color:#F8F8F2;">(brand);</span></span>
<span class="line"><span style="color:#F8F8F2;">            }</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> brands;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>添加品牌</p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="java" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">public</span><span style="color:#66D9EF;font-style:italic;"> boolean</span><span style="color:#A6E22E;"> addBrand</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;font-style:italic;">Brand</span><span style="color:#F8F8F2;"> brand) throws SQLException {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    String</span><span style="color:#F8F8F2;"> sql </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &quot;INSERT INTO tb_brand (brand_name, company_name, ordered, description, status) VALUES (?, ?, ?, ?, ?)&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F92672;">    try</span><span style="color:#F8F8F2;"> (</span><span style="color:#66D9EF;font-style:italic;">Connection</span><span style="color:#F8F8F2;"> conn </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> DriverManager.</span><span style="color:#A6E22E;">getConnection</span><span style="color:#F8F8F2;">(URL, USER, PASSWORD);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">         PreparedStatement</span><span style="color:#F8F8F2;"> stmt </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> conn.</span><span style="color:#A6E22E;">prepareStatement</span><span style="color:#F8F8F2;">(sql)) {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setString</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getBrandName</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setString</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getCompanyName</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setInt</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getOrdered</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setString</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getDescription</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setInt</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getStatus</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        int</span><span style="color:#F8F8F2;"> rowsInserted </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> stmt.</span><span style="color:#A6E22E;">executeUpdate</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> rowsInserted </span><span style="color:#F92672;">&gt;</span><span style="color:#AE81FF;"> 0</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>根据ID修改品牌</p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="java" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">public</span><span style="color:#66D9EF;font-style:italic;"> boolean</span><span style="color:#A6E22E;"> updateBrand</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;font-style:italic;">Brand</span><span style="color:#F8F8F2;"> brand) throws SQLException {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    String</span><span style="color:#F8F8F2;"> sql </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &quot;UPDATE tb_brand SET brand_name = ?, company_name = ?, ordered = ?, description = ?, status = ? WHERE id = ?&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F92672;">    try</span><span style="color:#F8F8F2;"> (</span><span style="color:#66D9EF;font-style:italic;">Connection</span><span style="color:#F8F8F2;"> conn </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> DriverManager.</span><span style="color:#A6E22E;">getConnection</span><span style="color:#F8F8F2;">(URL, USER, PASSWORD);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">         PreparedStatement</span><span style="color:#F8F8F2;"> stmt </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> conn.</span><span style="color:#A6E22E;">prepareStatement</span><span style="color:#F8F8F2;">(sql)) {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setString</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getBrandName</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setString</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">2</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getCompanyName</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setInt</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getOrdered</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setString</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">4</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getDescription</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setInt</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">5</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getStatus</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setInt</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">6</span><span style="color:#F8F8F2;">, brand.</span><span style="color:#A6E22E;">getId</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        int</span><span style="color:#F8F8F2;"> rowsUpdated </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> stmt.</span><span style="color:#A6E22E;">executeUpdate</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> rowsUpdated </span><span style="color:#F92672;">&gt;</span><span style="color:#AE81FF;"> 0</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>根据 ID 删除品牌</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">public</span><span style="color:#66D9EF;font-style:italic;"> boolean</span><span style="color:#A6E22E;"> deleteBrand</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;font-style:italic;">int</span><span style="color:#F8F8F2;"> id) throws SQLException {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">    String</span><span style="color:#F8F8F2;"> sql </span><span style="color:#F92672;">=</span><span style="color:#E6DB74;"> &quot;DELETE FROM tb_brand WHERE id = ?&quot;</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    </span></span>
<span class="line"><span style="color:#F92672;">    try</span><span style="color:#F8F8F2;"> (</span><span style="color:#66D9EF;font-style:italic;">Connection</span><span style="color:#F8F8F2;"> conn </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> DriverManager.</span><span style="color:#A6E22E;">getConnection</span><span style="color:#F8F8F2;">(URL, USER, PASSWORD);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">         PreparedStatement</span><span style="color:#F8F8F2;"> stmt </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> conn.</span><span style="color:#A6E22E;">prepareStatement</span><span style="color:#F8F8F2;">(sql)) {</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#F8F8F2;">        stmt.</span><span style="color:#A6E22E;">setInt</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">, id);</span></span>
<span class="line"><span style="color:#F8F8F2;">        </span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        int</span><span style="color:#F8F8F2;"> rowsDeleted </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> stmt.</span><span style="color:#A6E22E;">executeUpdate</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F92672;">        return</span><span style="color:#F8F8F2;"> rowsDeleted </span><span style="color:#F92672;">&gt;</span><span style="color:#AE81FF;"> 0</span><span style="color:#F8F8F2;">;</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="测试类" tabindex="-1"><a class="header-anchor" href="#测试类"><span>测试类</span></a></h3><p>我们还需要一个测试类来验证上述 CRUD 操作是否正确。</p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="java" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code><span class="line"><span style="color:#F92672;">public</span><span style="color:#F92672;"> class</span><span> </span><span style="color:#A6E22E;text-decoration:underline;">BrandDAOTest</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#F92672;">    public</span><span style="color:#F92672;"> static</span><span style="color:#66D9EF;font-style:italic;"> void</span><span style="color:#A6E22E;"> main</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;font-style:italic;">String</span><span style="color:#F8F8F2;">[] </span><span style="color:#FD971F;font-style:italic;">args</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        BrandDAO</span><span style="color:#F8F8F2;"> dao </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> new</span><span style="color:#A6E22E;"> BrandDAO</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">        try</span><span style="color:#F8F8F2;"> {</span></span>
<span class="line"><span style="color:#88846F;">            // 查询所有数据</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">            List</span><span style="color:#F8F8F2;">&lt;</span><span style="color:#66D9EF;font-style:italic;">Brand</span><span style="color:#F8F8F2;">&gt; brands </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> dao.</span><span style="color:#A6E22E;">getAllBrands</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F92672;">            for</span><span style="color:#F8F8F2;"> (</span><span style="color:#66D9EF;font-style:italic;">Brand</span><span style="color:#F8F8F2;"> brand </span><span style="color:#F92672;">:</span><span style="color:#F8F8F2;"> brands) {</span></span>
<span class="line"><span style="color:#F8F8F2;">                System.out.</span><span style="color:#A6E22E;">println</span><span style="color:#F8F8F2;">(brand);</span></span>
<span class="line"><span style="color:#F8F8F2;">            }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">            // 添加品牌</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">            Brand</span><span style="color:#F8F8F2;"> newBrand </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> new</span><span style="color:#A6E22E;"> Brand</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F8F8F2;">            newBrand.</span><span style="color:#A6E22E;">setBrandName</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;New Brand&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">            newBrand.</span><span style="color:#A6E22E;">setCompanyName</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;New Company&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">            newBrand.</span><span style="color:#A6E22E;">setOrdered</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">            newBrand.</span><span style="color:#A6E22E;">setDescription</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;New Description&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#F8F8F2;">            newBrand.</span><span style="color:#A6E22E;">setStatus</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">            boolean</span><span style="color:#F8F8F2;"> added </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> dao.</span><span style="color:#A6E22E;">addBrand</span><span style="color:#F8F8F2;">(newBrand);</span></span>
<span class="line"><span style="color:#F8F8F2;">            System.out.</span><span style="color:#A6E22E;">println</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Brand added: &quot;</span><span style="color:#F92672;"> +</span><span style="color:#F8F8F2;"> added);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">            // 修改品牌</span></span>
<span class="line"><span style="color:#F8F8F2;">            newBrand.</span><span style="color:#A6E22E;">setBrandName</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Updated Brand&quot;</span><span style="color:#F8F8F2;">);</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">            boolean</span><span style="color:#F8F8F2;"> updated </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> dao.</span><span style="color:#A6E22E;">updateBrand</span><span style="color:#F8F8F2;">(newBrand);</span></span>
<span class="line"><span style="color:#F8F8F2;">            System.out.</span><span style="color:#A6E22E;">println</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Brand updated: &quot;</span><span style="color:#F92672;"> +</span><span style="color:#F8F8F2;"> updated);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">            // 删除品牌</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">            boolean</span><span style="color:#F8F8F2;"> deleted </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> dao.</span><span style="color:#A6E22E;">deleteBrand</span><span style="color:#F8F8F2;">(newBrand.</span><span style="color:#A6E22E;">getId</span><span style="color:#F8F8F2;">());</span></span>
<span class="line"><span style="color:#F8F8F2;">            System.out.</span><span style="color:#A6E22E;">println</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Brand deleted: &quot;</span><span style="color:#F92672;"> +</span><span style="color:#F8F8F2;"> deleted);</span></span>
<span class="line"><span style="color:#F8F8F2;">        } </span><span style="color:#F92672;">catch</span><span style="color:#F8F8F2;"> (</span><span style="color:#66D9EF;font-style:italic;">SQLException</span><span style="color:#FD971F;font-style:italic;"> e</span><span style="color:#F8F8F2;">) {</span></span>
<span class="line"><span style="color:#F8F8F2;">            e.</span><span style="color:#A6E22E;">printStackTrace</span><span style="color:#F8F8F2;">();</span></span>
<span class="line"><span style="color:#F8F8F2;">        }</span></span>
<span class="line"><span style="color:#F8F8F2;">    }</span></span>
<span class="line"><span style="color:#F8F8F2;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>此代码通过 JDBC 实现了对 <code>tb_brand</code> 表的基本 CRUD 操作，包括获取所有品牌、添加新品牌、根据 ID 修改品牌以及根据 ID 删除品牌。测试类通过简单的主函数来验证每个操作的正确性。</p>`,22)]))}const F=n(p,[["render",o]]),i=JSON.parse('{"path":"/zh/Java_Homework/Week05.html","title":"Java 05","lang":"zh-CN","frontmatter":{"title":"Java 05","icon":"java","date":"2024-06-16T11:24:23.000Z","author":"XiaoXianYue","isOriginal":true,"category":["Java","大二下"],"tag":["Java","大二下"],"sticky":false,"star":false,"article":true,"timeline":true,"image":false,"navbar":true,"sidebarIcon":true,"headerDepth":5,"lastUpdated":true,"editLink":false,"backToTop":null,"description":"环境准备 数据库表 tb_brand 我们需要在数据库中创建一个表 tb_brand。假设我们使用的是 MySQL 数据库，表结构如下： 实体类 Brand 我们需要一个与数据库表对应的实体类 Brand。假设我们使用的是 Java 语言： 数据库操作 我们需要一个 DAO（数据访问对象）类来处理对数据库表 tb_brand 的 CRUD 操作。以下是...","head":[["meta",{"property":"og:url","content":"https://bougiemoonintaurus/zh/Java_Homework/Week05.html"}],["meta",{"property":"og:site_name","content":"奶酪奶酪"}],["meta",{"property":"og:title","content":"Java 05"}],["meta",{"property":"og:description","content":"环境准备 数据库表 tb_brand 我们需要在数据库中创建一个表 tb_brand。假设我们使用的是 MySQL 数据库，表结构如下： 实体类 Brand 我们需要一个与数据库表对应的实体类 Brand。假设我们使用的是 Java 语言： 数据库操作 我们需要一个 DAO（数据访问对象）类来处理对数据库表 tb_brand 的 CRUD 操作。以下是..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-18T03:28:36.000Z"}],["meta",{"property":"article:author","content":"XiaoXianYue"}],["meta",{"property":"article:tag","content":"Java"}],["meta",{"property":"article:tag","content":"大二下"}],["meta",{"property":"article:published_time","content":"2024-06-16T11:24:23.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-18T03:28:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Java 05\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-06-16T11:24:23.000Z\\",\\"dateModified\\":\\"2024-06-18T03:28:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"XiaoXianYue\\"}]}"]]},"git":{"createdTime":1718615101000,"updatedTime":1718681316000,"contributors":[{"name":"Xiaoxianyue","username":"Xiaoxianyue","email":"2310219843@qq.com","commits":4,"url":"https://github.com/Xiaoxianyue"}]},"readingTime":{"minutes":2.37,"words":712},"filePathRelative":"zh/Java_Homework/Week05.md","localizedDate":"2024年6月16日","excerpt":"<h3>环境准备</h3>\\n<h4>数据库表 <code>tb_brand</code></h4>\\n<p>我们需要在数据库中创建一个表 <code>tb_brand</code>。假设我们使用的是 MySQL 数据库，表结构如下：</p>\\n<div class=\\"language-sql line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"sql\\" style=\\"background-color:#272822;color:#F8F8F2\\"><pre class=\\"shiki monokai vp-code\\"><code><span class=\\"line\\"><span style=\\"color:#F92672\\">CREATE</span><span style=\\"color:#F92672\\"> TABLE</span><span style=\\"color:#A6E22E\\"> tb_brand</span><span style=\\"color:#F8F8F2\\"> (</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    id </span><span style=\\"color:#66D9EF;font-style:italic\\">INT</span><span style=\\"color:#F8F8F2\\"> AUTO_INCREMENT </span><span style=\\"color:#F92672\\">PRIMARY KEY</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    brand_name </span><span style=\\"color:#66D9EF;font-style:italic\\">VARCHAR</span><span style=\\"color:#F8F8F2\\">(</span><span style=\\"color:#AE81FF\\">255</span><span style=\\"color:#F8F8F2\\">) </span><span style=\\"color:#F92672\\">NOT NULL</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    company_name </span><span style=\\"color:#66D9EF;font-style:italic\\">VARCHAR</span><span style=\\"color:#F8F8F2\\">(</span><span style=\\"color:#AE81FF\\">255</span><span style=\\"color:#F8F8F2\\">) </span><span style=\\"color:#F92672\\">NOT NULL</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">    ordered </span><span style=\\"color:#66D9EF;font-style:italic\\">INT</span><span style=\\"color:#F92672\\"> NOT NULL</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F92672\\">    description</span><span style=\\"color:#66D9EF;font-style:italic\\"> TEXT</span><span style=\\"color:#F8F8F2\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F92672\\">    status</span><span style=\\"color:#66D9EF;font-style:italic\\"> INT</span><span style=\\"color:#F92672\\"> NOT NULL</span></span>\\n<span class=\\"line\\"><span style=\\"color:#F8F8F2\\">);</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{F as comp,i as data};
